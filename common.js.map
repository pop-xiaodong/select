{"version":3,"sources":["webpack:///webpack/bootstrap 74af53256775a4f60960","webpack:///./index.js","webpack:///./assets/index.less?ee89","webpack:///./src/util.js","webpack:///./src/Option.jsx","webpack:///./src/PropTypes.js","webpack:///./src/index.js","webpack:///./src/Select.jsx","webpack:///./src/SelectTrigger.jsx","webpack:///./src/DropdownMenu.jsx","webpack:///./src/OptGroup.jsx"],"names":["module","exports","require","toTitle","title","getValuePropValue","child","props","value","key","type","isSelectOptGroup","label","Error","getPropValue","prop","isMultiple","multiple","isCombobox","combobox","isMultipleOrTags","tags","isMultipleOrTagsOrCombobox","isSingleMode","toArray","ret","undefined","Array","isArray","getMapKey","preventDefaultEvent","e","preventDefault","findIndexInValueBySingleValue","singleValue","index","i","length","getLabelFromPropsValue","getSelectKeys","menuItems","selectedKeys","React","Children","forEach","item","isMenuItemGroup","concat","children","itemValue","itemKey","push","UNSELECTABLE_STYLE","userSelect","WebkitUserSelect","UNSELECTABLE_ATTRIBUTE","unselectable","findFirstMenuItem","found","disabled","includesSeparators","string","separators","lastIndexOf","splitBySeparators","reg","RegExp","join","split","filter","token","defaultFilterFn","input","optionFilterProp","toLowerCase","indexOf","validateOptionValue","saveRef","instance","name","node","Option","Component","propTypes","PropTypes","oneOfType","number","isSelectOption","valueType","propName","componentName","basicType","labelInValueShape","shape","isRequired","labelInValue","validate","arrayOf","error","arguments","mode","SelectPropTypes","defaultActiveFirstOption","bool","filterOption","any","showSearch","allowClear","showArrow","prefixCls","className","transitionName","optionLabelProp","animation","choiceTransitionName","onChange","func","onBlur","onFocus","onSelect","onSearch","onPopupScroll","onMouseEnter","onMouseLeave","onInputKeyDown","placeholder","onDeselect","defaultValue","dropdownStyle","object","maxTagTextLength","maxTagCount","maxTagPlaceholder","tokenSeparators","getInputElement","showAction","renderMenu","Select","OptGroup","noop","chaining","fns","args","apply","optionsInfo","getOptionsInfoFromProps","state","getValueFromProps","inputValue","getInputValueForCombobox","open","defaultOpen","skipBuildOptionsInfo","saveInputRef","saveInputMirrorRef","saveTopCtrlRef","saveSelectTriggerRef","saveRootRef","saveSelectionRef","componentDidMount","autoFocus","focus","componentDidUpdate","inputNode","getInputDOMNode","mirrorNode","getInputMirrorDOMNode","style","width","clientWidth","forcePopupAlign","componentWillUnmount","clearFocusTime","clearBlurTime","dropdownContainer","ReactDOM","unmountComponentAtNode","document","body","removeChild","selectionRef","blur","renderClear","clear","onClearSelection","render","ctrlNode","renderTopControlNode","extraSelectionProps","_options","renderFilterOptions","realOpen","getRealOpenState","options","onKeyDown","tabIndex","rootCls","_focused","onPopupFocus","dropdownAlign","dropdownClassName","dropdownMatchSelectWidth","dropdownMenuStyle","backfillValue","firstActiveValue","onDropdownVisibleChange","getPopupContainer","onMenuSelect","onMenuDeselect","onOuterBlur","onOuterFocus","classnames","onArrowClick","defaultProps","notFoundContent","backfill","autoClearSearchValue","getDerivedStateFromProps","nextProps","prevState","newState","getOptionsFromChildren","useDefaultValue","getLabelFromOption","option","preState","oldOptionsInfo","v","map","onInputChange","val","event","target","nextValue","getValueByInput","fireChange","setOpenState","setInputValue","setState","timeoutFocus","updateFocusClassName","keyCode","KeyCode","ENTER","DOWN","BACKSPACE","removeSelected","openIfHasChildren","stopPropagation","ESC","menu","selectTriggerRef","getInnerMenu","handleBackfill","selectedValue","lastValue","fireSelect","domEvent","onPlaceholderClick","maybeFocus","blurTimer","setTimeout","firstOption","getVLForOnChange","onChoiceAnimationLeave","getOptionInfoBySingleValue","info","defaultLabel","defaultInfo","getOptionBySingleValue","getOptionsBySingleValue","values","getValueByLabel","Object","keys","getVLBySingleValue","getLabelBySingleValue","vls","vls_","vl","getDropdownContainer","createElement","appendChild","getPlaceholderElement","hidden","display","inputElement","id","inputCls","cloneElement","ref","topCtrlRef","querySelector","inputRef","inputMirrorRef","getPopupDOMNode","getPopupMenuComponent","needFocus","nextState","fireSearch","hasNewValue","defaultFilter","filterFn","call","focusTimer","clearTimeout","rootRef","classes","add","remove","activeElement","selectedKey","isChildDisabled","canMultiple","count","childrenToArray","some","childValue","triggerRef","childrenKeys","renderFilterOptionsFromChildren","String","menuItem","notFindInputItem","every","unshift","sel","innerItems","warning","displayName","innerNode","showSelectedValue","opacity","selectedValueNodes","limitedCountValue","maxTagPlaceholderEl","slice","omittedValues","content","choiceClassName","polyfill","Trigger","BUILT_IN_PLACEMENTS","bottomLeft","points","offset","overflow","adjustX","adjustY","topLeft","SelectTrigger","saveDropdownMenuRef","saveTriggerRef","dropdownWidth","setDropdownWidth","visible","dropdownPrefixCls","getDropdownPrefixCls","popupClassName","popupElement","getDropdownElement","hideAction","popupStyle","widthProp","getDropdownTransitionName","findDOMNode","offsetWidth","dropdownMenuRef","menuRef","getPopupDomNode","newProps","DropdownMenu","lastInputValue","saveMenuRef","scrollActiveItemToView","lastVisible","shouldComponentUpdate","prevProps","menuProps","onClick","activeKeyProps","clonedMenuItems","activeKey","foundFirst","clone","firstActiveItem","onMenuDeSelect","itemComponent","scrollIntoViewOpts","onlyScrollIfNeeded","alignWithTop","scrollIntoView"],"mappings":";AAAA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAQ,oBAAoB;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAY,2BAA2B;AACvC;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAK;AACL;AACA;;AAEA;AACA;AACA;AACA,mCAA2B,0BAA0B,EAAE;AACvD,yCAAiC,eAAe;AAChD;AACA;AACA;;AAEA;AACA,8DAAsD,+DAA+D;;AAErH;AACA;;AAEA;AACA,kDAA0C,oBAAoB,WAAW;;;;;;;;AChGzE;;AAEAA,OAAOC,OAAP,GAAiB,mBAAAC,CAAQ,EAAR,CAAjB,C;;;;;;ACFA,yC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACAA;;AAEO,SAASC,OAAT,CAAiBC,KAAjB,EAAwB;AAC7B,MAAI,OAAOA,KAAP,KAAiB,QAArB,EAA+B;AAC7B,WAAOA,KAAP;AACD;AACD,SAAO,IAAP;AACD;;AAEM,SAASC,iBAAT,CAA2BC,KAA3B,EAAkC;AACvC,MAAI,CAACA,KAAL,EAAY;AACV,WAAO,IAAP;AACD;;AAED,MAAMC,QAAQD,MAAMC,KAApB;AACA,MAAI,WAAWA,KAAf,EAAsB;AACpB,WAAOA,MAAMC,KAAb;AACD;AACD,MAAIF,MAAMG,GAAV,EAAe;AACb,WAAOH,MAAMG,GAAb;AACD;AACD,MAAIH,MAAMI,IAAN,IAAcJ,MAAMI,IAAN,CAAWC,gBAAzB,IAA6CJ,MAAMK,KAAvD,EAA8D;AAC5D,WAAOL,MAAMK,KAAb;AACD;AACD,QAAM,IAAIC,KAAJ,wEACiEP,KADjE,CAAN;AAGD;;AAEM,SAASQ,YAAT,CAAsBR,KAAtB,EAA6BS,IAA7B,EAAmC;AACxC,MAAIA,SAAS,OAAb,EAAsB;AACpB,WAAOV,kBAAkBC,KAAlB,CAAP;AACD;AACD,SAAOA,MAAMC,KAAN,CAAYQ,IAAZ,CAAP;AACD;;AAEM,SAASC,UAAT,CAAoBT,KAApB,EAA2B;AAChC,SAAOA,MAAMU,QAAb;AACD;;AAEM,SAASC,UAAT,CAAoBX,KAApB,EAA2B;AAChC,SAAOA,MAAMY,QAAb;AACD;;AAEM,SAASC,gBAAT,CAA0Bb,KAA1B,EAAiC;AACtC,SAAOA,MAAMU,QAAN,IAAkBV,MAAMc,IAA/B;AACD;;AAEM,SAASC,0BAAT,CAAoCf,KAApC,EAA2C;AAChD,SAAOa,iBAAiBb,KAAjB,KAA2BW,WAAWX,KAAX,CAAlC;AACD;;AAEM,SAASgB,YAAT,CAAsBhB,KAAtB,EAA6B;AAClC,SAAO,CAACe,2BAA2Bf,KAA3B,CAAR;AACD;;AAEM,SAASiB,OAAT,CAAiBhB,KAAjB,EAAwB;AAC7B,MAAIiB,MAAMjB,KAAV;AACA,MAAIA,UAAUkB,SAAd,EAAyB;AACvBD,UAAM,EAAN;AACD,GAFD,MAEO,IAAI,CAACE,MAAMC,OAAN,CAAcpB,KAAd,CAAL,EAA2B;AAChCiB,UAAM,CAACjB,KAAD,CAAN;AACD;AACD,SAAOiB,GAAP;AACD;;AAEM,SAASI,SAAT,CAAmBrB,KAAnB,EAA0B;AAC/B,SAAU,OAAOA,KAAjB,SAA0BA,KAA1B;AACD;;AAEM,SAASsB,mBAAT,CAA6BC,CAA7B,EAAgC;AACrCA,IAAEC,cAAF;AACD;;AAEM,SAASC,6BAAT,CAAuCzB,KAAvC,EAA8C0B,WAA9C,EAA2D;AAChE,MAAIC,QAAQ,CAAC,CAAb;AACA,OAAK,IAAIC,IAAI,CAAb,EAAgBA,IAAI5B,MAAM6B,MAA1B,EAAkCD,GAAlC,EAAuC;AACrC,QAAI5B,MAAM4B,CAAN,MAAaF,WAAjB,EAA8B;AAC5BC,cAAQC,CAAR;AACA;AACD;AACF;AACD,SAAOD,KAAP;AACD;;AAEM,SAASG,sBAAT,CAAgC9B,KAAhC,EAAuCC,GAAvC,EAA4C;AACjD,MAAIG,cAAJ;AACAJ,UAAQgB,QAAQhB,KAAR,CAAR;AACA,OAAK,IAAI4B,IAAI,CAAb,EAAgBA,IAAI5B,MAAM6B,MAA1B,EAAkCD,GAAlC,EAAuC;AACrC,QAAI5B,MAAM4B,CAAN,EAAS3B,GAAT,KAAiBA,GAArB,EAA0B;AACxBG,cAAQJ,MAAM4B,CAAN,EAASxB,KAAjB;AACA;AACD;AACF;AACD,SAAOA,KAAP;AACD;;AAEM,SAAS2B,aAAT,CAAuBC,SAAvB,EAAkChC,KAAlC,EAAyC;AAC9C,MAAIA,UAAU,IAAV,IAAkBA,UAAUkB,SAAhC,EAA2C;AACzC,WAAO,EAAP;AACD;AACD,MAAIe,eAAe,EAAnB;AACAC,EAAA,6CAAAA,CAAMC,QAAN,CAAeC,OAAf,CAAuBJ,SAAvB,EAAkC,gBAAQ;AACxC,QAAIK,KAAKnC,IAAL,CAAUoC,eAAd,EAA+B;AAC7BL,qBAAeA,aAAaM,MAAb,CACbR,cAAcM,KAAKtC,KAAL,CAAWyC,QAAzB,EAAmCxC,KAAnC,CADa,CAAf;AAGD,KAJD,MAIO;AACL,UAAMyC,YAAY5C,kBAAkBwC,IAAlB,CAAlB;AACA,UAAMK,UAAUL,KAAKpC,GAArB;AACA,UAAIwB,8BAA8BzB,KAA9B,EAAqCyC,SAArC,MAAoD,CAAC,CAArD,IAA0DC,OAA9D,EAAuE;AACrET,qBAAaU,IAAb,CAAkBD,OAAlB;AACD;AACF;AACF,GAZD;AAaA,SAAOT,YAAP;AACD;;AAEM,IAAMW,qBAAqB;AAChCC,cAAY,MADoB;AAEhCC,oBAAkB;AAFc,CAA3B;;AAKA,IAAMC,yBAAyB;AACpCC,gBAAc;AADsB,CAA/B;;AAIA,SAASC,iBAAT,CAA2BT,QAA3B,EAAqC;AAC1C,OAAK,IAAIZ,IAAI,CAAb,EAAgBA,IAAIY,SAASX,MAA7B,EAAqCD,GAArC,EAA0C;AACxC,QAAM9B,QAAQ0C,SAASZ,CAAT,CAAd;AACA,QAAI9B,MAAMI,IAAN,CAAWoC,eAAf,EAAgC;AAC9B,UAAMY,QAAQD,kBAAkBnD,MAAMC,KAAN,CAAYyC,QAA9B,CAAd;AACA,UAAIU,KAAJ,EAAW;AACT,eAAOA,KAAP;AACD;AACF,KALD,MAKO,IAAI,CAACpD,MAAMC,KAAN,CAAYoD,QAAjB,EAA2B;AAChC,aAAOrD,KAAP;AACD;AACF;AACD,SAAO,IAAP;AACD;;AAEM,SAASsD,kBAAT,CAA4BC,MAA5B,EAAoCC,UAApC,EAAgD;AACrD,OAAK,IAAI1B,IAAI,CAAb,EAAgBA,IAAI0B,WAAWzB,MAA/B,EAAuC,EAAED,CAAzC,EAA4C;AAC1C,QAAIyB,OAAOE,WAAP,CAAmBD,WAAW1B,CAAX,CAAnB,IAAoC,CAAxC,EAA2C;AACzC,aAAO,IAAP;AACD;AACF;AACD,SAAO,KAAP;AACD;;AAEM,SAAS4B,iBAAT,CAA2BH,MAA3B,EAAmCC,UAAnC,EAA+C;AACpD,MAAMG,MAAM,IAAIC,MAAJ,OAAeJ,WAAWK,IAAX,EAAf,OAAZ;AACA,SAAON,OAAOO,KAAP,CAAaH,GAAb,EAAkBI,MAAlB,CAAyB;AAAA,WAASC,KAAT;AAAA,GAAzB,CAAP;AACD;;AAEM,SAASC,eAAT,CAAyBC,KAAzB,EAAgClE,KAAhC,EAAuC;AAC5C,MAAIA,MAAMC,KAAN,CAAYoD,QAAhB,EAA0B;AACxB,WAAO,KAAP;AACD;AACD,MAAMnD,QAAQgB,QAAQV,aAAaR,KAAb,EAAoB,KAAKC,KAAL,CAAWkE,gBAA/B,CAAR,EAA0DN,IAA1D,CAA+D,EAA/D,CAAd;AACA,SACE3D,MAAMkE,WAAN,GAAoBC,OAApB,CAA4BH,MAAME,WAAN,EAA5B,IAAmD,CAAC,CADtD;AAGD;;AAEM,SAASE,mBAAT,CAA6BpE,KAA7B,EAAoCD,KAApC,EAA2C;AAChD,MAAIgB,aAAahB,KAAb,KAAuBS,WAAWT,KAAX,CAA3B,EAA8C;AAC5C;AACD;AACD,MAAI,OAAOC,KAAP,KAAiB,QAArB,EAA+B;AAC7B,UAAM,IAAIK,KAAJ,CACJ,8BAA+B,OAAOL,KAAtC,iFADI,CAAN;AAID;AACF;;AAEM,SAASqE,OAAT,CAAiBC,QAAjB,EAA2BC,IAA3B,EAAiC;AACtC,SAAO,UAACC,IAAD,EAAU;AACfF,aAASC,IAAT,IAAiBC,IAAjB;AACD,GAFD;AAGD,C;;;;;;;;;;;;;;;ACtLD;AACA;;IAEqBC,M;;;;;;;;;;EAAe,6CAAAvC,CAAMwC,S;;AAArBD,M,CACZE,S,GAAY;AACjB3E,SAAO,kDAAA4E,CAAUC,SAAV,CAAoB,CACzB,kDAAAD,CAAUvB,MADe,EAEzB,kDAAAuB,CAAUE,MAFe,CAApB;AADU,C;AADAL,M,CAQZM,c,GAAiB,I;yDARLN,M;;;;;;;;;ACHrB;;AAEA,SAASO,SAAT,CAAmBjF,KAAnB,EAA0BkF,QAA1B,EAAoCC,aAApC,EAAmD;AACjD,MAAMC,YAAY,kDAAAP,CAAUC,SAAV,CAAoB,CACpC,kDAAAD,CAAUvB,MAD0B,EAEpC,kDAAAuB,CAAUE,MAF0B,CAApB,CAAlB;;AAKA,MAAMM,oBAAoB,kDAAAR,CAAUS,KAAV,CAAgB;AACxCpF,SAAKkF,UAAUG,UADyB;AAExClF,WAAO,kDAAAwE,CAAUJ;AAFuB,GAAhB,CAA1B;AAIA,MAAIzE,MAAMwF,YAAV,EAAwB;AACtB,QAAMC,WAAW,kDAAAZ,CAAUC,SAAV,CAAoB,CACnC,kDAAAD,CAAUa,OAAV,CAAkBL,iBAAlB,CADmC,EAEnCA,iBAFmC,CAApB,CAAjB;AAIA,QAAMM,QAAQF,0BAAYG,SAAZ,CAAd;AACA,QAAID,KAAJ,EAAW;AACT,aAAO,IAAIrF,KAAJ,CACL,mBAAkB4E,QAAlB,uBAA8CC,aAA9C,yDACkDD,QADlD,8EADK,CAAP;AAKD;AACF,GAbD,MAaO,IACL,CAAClF,MAAM6F,IAAN,KAAe,UAAf,IAA6B7F,MAAM6F,IAAN,KAAe,MAA5C,IAAsD7F,MAAMU,QAA5D,IAAwEV,MAAMc,IAA/E,KACGd,MAAMkF,QAAN,MAAoB,EAFlB,EAGL;AACA,WAAO,IAAI5E,KAAJ,CACL,mBAAkB4E,QAAlB,wCAAiEC,aAAjE,kEADK,CAAP;AAID,GARM,MAQA;AACL,QAAMM,YAAW,kDAAAZ,CAAUC,SAAV,CAAoB,CACnC,kDAAAD,CAAUa,OAAV,CAAkBN,SAAlB,CADmC,EAEnCA,SAFmC,CAApB,CAAjB;AAIA,WAAOK,2BAAYG,SAAZ,CAAP;AACD;AACF;;AAEM,IAAME,kBAAkB;AAC7BC,4BAA0B,kDAAAlB,CAAUmB,IADP;AAE7BtF,YAAU,kDAAAmE,CAAUmB,IAFS;AAG7BC,gBAAc,kDAAApB,CAAUqB,GAHK;AAI7BzD,YAAU,kDAAAoC,CAAUqB,GAJS;AAK7BC,cAAY,kDAAAtB,CAAUmB,IALO;AAM7B5C,YAAU,kDAAAyB,CAAUmB,IANS;AAO7BI,cAAY,kDAAAvB,CAAUmB,IAPO;AAQ7BK,aAAW,kDAAAxB,CAAUmB,IARQ;AAS7BlF,QAAM,kDAAA+D,CAAUmB,IATa;AAU7BM,aAAW,kDAAAzB,CAAUvB,MAVQ;AAW7BiD,aAAW,kDAAA1B,CAAUvB,MAXQ;AAY7BkD,kBAAgB,kDAAA3B,CAAUvB,MAZG;AAa7BmD,mBAAiB,kDAAA5B,CAAUvB,MAbE;AAc7BY,oBAAkB,kDAAAW,CAAUvB,MAdC;AAe7BoD,aAAW,kDAAA7B,CAAUvB,MAfQ;AAgB7BqD,wBAAsB,kDAAA9B,CAAUvB,MAhBH;AAiB7BsD,YAAU,kDAAA/B,CAAUgC,IAjBS;AAkB7BC,UAAQ,kDAAAjC,CAAUgC,IAlBW;AAmB7BE,WAAS,kDAAAlC,CAAUgC,IAnBU;AAoB7BG,YAAU,kDAAAnC,CAAUgC,IApBS;AAqB7BI,YAAU,kDAAApC,CAAUgC,IArBS;AAsB7BK,iBAAe,kDAAArC,CAAUgC,IAtBI;AAuB7BM,gBAAc,kDAAAtC,CAAUgC,IAvBK;AAwB7BO,gBAAc,kDAAAvC,CAAUgC,IAxBK;AAyB7BQ,kBAAgB,kDAAAxC,CAAUgC,IAzBG;AA0B7BS,eAAa,kDAAAzC,CAAUqB,GA1BM;AA2B7BqB,cAAY,kDAAA1C,CAAUgC,IA3BO;AA4B7BrB,gBAAc,kDAAAX,CAAUmB,IA5BK;AA6B7B/F,SAAOgF,SA7BsB;AA8B7BuC,gBAAcvC,SA9Be;AA+B7BwC,iBAAe,kDAAA5C,CAAU6C,MA/BI;AAgC7BC,oBAAkB,kDAAA9C,CAAUE,MAhCC;AAiC7B6C,eAAa,kDAAA/C,CAAUE,MAjCM;AAkC7B8C,qBAAmB,kDAAAhD,CAAUC,SAAV,CAAoB,CACrC,kDAAAD,CAAUJ,IAD2B,EAErC,kDAAAI,CAAUgC,IAF2B,CAApB,CAlCU;AAsC7BiB,mBAAiB,kDAAAjD,CAAUa,OAAV,CAAkB,kDAAAb,CAAUvB,MAA5B,CAtCY;AAuC7ByE,mBAAiB,kDAAAlD,CAAUgC,IAvCE;AAwC7BmB,cAAY,kDAAAnD,CAAUa,OAAV,CAAkB,kDAAAb,CAAUvB,MAA5B,CAxCiB;AAyC7B2E,cAAY,kDAAApD,CAAUgC;AAzCO,CAAxB,C;;;;;;;;;;;;;;;;;AC1CP;AACA;AACA;AACA;AACA,wDAAAqB,CAAOxD,MAAP,GAAgB,wDAAhB;AACA,wDAAAwD,CAAOC,QAAP,GAAkB,0DAAlB;AACA;AACA,+DAAe,wDAAf,E;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACPA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AAsBA;AACA;;AAEA,SAASC,IAAT,GAAgB,CAAE;;AAElB,SAASC,QAAT,GAA0B;AAAA,oCAALC,GAAK;AAALA,OAAK;AAAA;;AACxB,SAAO,YAAmB;AAAA,uCAANC,IAAM;AAANA,UAAM;AAAA;;AAAE;AAC1B;AACA,SAAK,IAAI1G,IAAI,CAAb,EAAgBA,IAAIyG,IAAIxG,MAAxB,EAAgCD,GAAhC,EAAqC;AACnC,UAAIyG,IAAIzG,CAAJ,KAAU,OAAOyG,IAAIzG,CAAJ,CAAP,KAAkB,UAAhC,EAA4C;AAC1CyG,YAAIzG,CAAJ,EAAO2G,KAAP,CAAa,IAAb,EAAmBD,IAAnB;AACD;AACF;AACF,GAPD;AAQD;;IAEKL,M;;;AA+BJ,kBAAYlI,KAAZ,EAAmB;AAAA;;AAAA,iDACjB,4BAAMA,KAAN,CADiB;;AAAA;;AAEjB,QAAMyI,cAAcP,OAAOQ,uBAAP,CAA+B1I,KAA/B,CAApB;AACA,UAAK2I,KAAL,GAAa;AACX1I,aAAOiI,OAAOU,iBAAP,CAAyB5I,KAAzB,EAAgC,IAAhC,CADI,EACmC;AAC9C6I,kBAAY7I,MAAMY,QAAN,GAAiBsH,OAAOY,wBAAP,CAC3B9I,KAD2B,EAE3ByI,WAF2B,EAG3B,IAH2B,CAGrB;AAHqB,OAAjB,GAIR,EANO;AAOXM,YAAM/I,MAAMgJ,WAPD;AAQXP,8BARW;AASX;AACAQ,4BAAsB;AAVX,KAAb;;AAaA,UAAKC,YAAL,GAAoB,+DAAA5E,QAAc,UAAd,CAApB;AACA,UAAK6E,kBAAL,GAA0B,+DAAA7E,QAAc,gBAAd,CAA1B;AACA,UAAK8E,cAAL,GAAsB,+DAAA9E,QAAc,YAAd,CAAtB;AACA,UAAK+E,oBAAL,GAA4B,+DAAA/E,QAAc,kBAAd,CAA5B;AACA,UAAKgF,WAAL,GAAmB,+DAAAhF,QAAc,SAAd,CAAnB;AACA,UAAKiF,gBAAL,GAAwB,+DAAAjF,QAAc,cAAd,CAAxB;AArBiB;AAsBlB;;mBAEDkF,iB,gCAAoB;AAClB,QAAI,KAAKxJ,KAAL,CAAWyJ,SAAf,EAA0B;AACxB,WAAKC,KAAL;AACD;AACF,G;;mBAEDC,kB,iCAAqB;AACnB,QAAI,wEAAA9I,CAAiB,KAAKb,KAAtB,CAAJ,EAAkC;AAChC,UAAM4J,YAAY,KAAKC,eAAL,EAAlB;AACA,UAAMC,aAAa,KAAKC,qBAAL,EAAnB;AACA,UAAIH,UAAU3J,KAAd,EAAqB;AACnB2J,kBAAUI,KAAV,CAAgBC,KAAhB,GAAwB,EAAxB;AACAL,kBAAUI,KAAV,CAAgBC,KAAhB,GAA2BH,WAAWI,WAAtC;AACD,OAHD,MAGO;AACLN,kBAAUI,KAAV,CAAgBC,KAAhB,GAAwB,EAAxB;AACD;AACF;AACD,SAAKE,eAAL;AACD,G;;mBAEDC,oB,mCAAuB;AACrB,SAAKC,cAAL;AACA,SAAKC,aAAL;AACA,QAAI,KAAKC,iBAAT,EAA4B;AAC1BC,MAAA,iDAAAA,CAASC,sBAAT,CAAgC,KAAKF,iBAArC;AACAG,eAASC,IAAT,CAAcC,WAAd,CAA0B,KAAKL,iBAA/B;AACA,WAAKA,iBAAL,GAAyB,IAAzB;AACD;AACF,G;;AAqCD;;;mBAmjBAb,K,oBAAQ;AACN,QAAI,oEAAA1I,CAAa,KAAKhB,KAAlB,CAAJ,EAA8B;AAC5B,WAAK6K,YAAL,CAAkBnB,KAAlB;AACD,KAFD,MAEO;AACL,WAAKG,eAAL,GAAuBH,KAAvB;AACD;AACF,G;;mBAEDoB,I,mBAAO;AACL,QAAI,oEAAA9J,CAAa,KAAKhB,KAAlB,CAAJ,EAA8B;AAC5B,WAAK6K,YAAL,CAAkBC,IAAlB;AACD,KAFD,MAEO;AACL,WAAKjB,eAAL,GAAuBiB,IAAvB;AACD;AACF,G;;mBAydDC,W,0BAAc;AAAA,iBACsB,KAAK/K,KAD3B;AAAA,QACJsG,SADI,UACJA,SADI;AAAA,QACOF,UADP,UACOA,UADP;AAAA,iBAEkB,KAAKuC,KAFvB;AAAA,QAEJ1I,KAFI,UAEJA,KAFI;AAAA,QAEG4I,UAFH,UAEGA,UAFH;;AAGZ,QAAMmC,QACJ;AACE,WAAI,OADN;AAEE,mBAAa,mEAFf;AAGE,aAAO,kEAAAnI;AAHT,OAIM,sEAJN;AAKE,iBAAcyD,SAAd,sBALF;AAME,eAAS,KAAK2E;AANhB,OADF;AAUA,QAAI,CAAC7E,UAAL,EAAiB;AACf,aAAO,IAAP;AACD;AACD,QAAI,kEAAAzF,CAAW,KAAKX,KAAhB,CAAJ,EAA4B;AAC1B,UAAI6I,UAAJ,EAAgB;AACd,eAAOmC,KAAP;AACD;AACD,aAAO,IAAP;AACD;AACD,QAAInC,cAAc5I,MAAM6B,MAAxB,EAAgC;AAC9B,aAAOkJ,KAAP;AACD;AACD,WAAO,IAAP;AACD,G;;mBAEDE,M,qBAAS;AAAA;;AACP,QAAMlL,QAAQ,KAAKA,KAAnB;AACA,QAAMU,WAAW,wEAAAG,CAAiBb,KAAjB,CAAjB;AACA,QAAM2I,QAAQ,KAAKA,KAAnB;AAHO,QAICpC,SAJD,GAIoCvG,KAJpC,CAICuG,SAJD;AAAA,QAIYnD,QAJZ,GAIoCpD,KAJpC,CAIYoD,QAJZ;AAAA,QAIsBkD,SAJtB,GAIoCtG,KAJpC,CAIsBsG,SAJtB;;AAKP,QAAM6E,WAAW,KAAKC,oBAAL,EAAjB;AACA,QAAIC,sBAAsB,EAA1B;AANO,QAOCtC,IAPD,GAOU,KAAKJ,KAPf,CAOCI,IAPD;;AAQP,QAAIA,IAAJ,EAAU;AACR,WAAKuC,QAAL,GAAgB,KAAKC,mBAAL,EAAhB;AACD;AACD,QAAMC,WAAW,KAAKC,gBAAL,EAAjB;AACA,QAAMC,UAAU,KAAKJ,QAAL,IAAiB,EAAjC;AACA,QAAI,CAAC,kFAAAvK,CAA2Bf,KAA3B,CAAL,EAAwC;AACtCqL,4BAAsB;AACpBM,mBAAW,KAAKA,SADI;AAEpBC,kBAAU5L,MAAMoD,QAAN,GAAiB,CAAC,CAAlB,GAAsB;AAFZ,OAAtB;AAID;AACD,QAAMyI,mCACHtF,SADG,IACS,CAAC,CAACA,SADX,WAEHD,SAFG,IAES,CAFT,WAGAA,SAHA,cAGmByC,IAHnB,WAIAzC,SAJA,iBAIsByC,QAAQ,CAAC,CAAC,KAAK+C,QAJrC,WAKAxF,SALA,kBAKuB,kEAAA3F,CAAWX,KAAX,CALvB,WAMAsG,SANA,kBAMuBlD,QANvB,WAOAkD,SAPA,iBAOsB,CAAClD,QAPvB,WAQAkD,SARA,qBAQ0B,CAAC,CAACtG,MAAMoG,UARlC,WASAE,SATA,kBASuB,CAACtG,MAAMqG,SAT9B,WAAN;AAWA,WACE;AAAC,sEAAD;AAAA;AACE,sBAAc,KAAK0F,YADrB;AAEE,sBAAc,KAAK/L,KAAL,CAAWmH,YAF3B;AAGE,sBAAc,KAAKnH,KAAL,CAAWoH,YAH3B;AAIE,uBAAepH,MAAMgM,aAJvB;AAKE,2BAAmBhM,MAAMiM,iBAL3B;AAME,kCAA0BjM,MAAMkM,wBANlC;AAOE,kCAA0BlM,MAAM+F,wBAPlC;AAQE,2BAAmB/F,MAAMmM,iBAR3B;AASE,wBAAgBnM,MAAMwG,cATxB;AAUE,mBAAWxG,MAAM0G,SAVnB;AAWE,mBAAW1G,MAAMsG,SAXnB;AAYE,uBAAetG,MAAMyH,aAZvB;AAaE,kBAAUzH,MAAMY,QAblB;AAcE,oBAAYZ,MAAMmG,UAdpB;AAeE,iBAASuF,OAfX;AAgBE,kBAAUhL,QAhBZ;AAiBE,kBAAU0C,QAjBZ;AAkBE,iBAASoI,QAlBX;AAmBE,oBAAY7C,MAAME,UAnBpB;AAoBE,eAAOF,MAAM1I,KApBf;AAqBE,uBAAe0I,MAAMyD,aArBvB;AAsBE,0BAAkBpM,MAAMqM,gBAtB1B;AAuBE,iCAAyB,KAAKC,uBAvBhC;AAwBE,2BAAmBtM,MAAMuM,iBAxB3B;AAyBE,sBAAc,KAAKC,YAzBrB;AA0BE,wBAAgB,KAAKC,cA1BvB;AA2BE,uBAAezM,MAAMkH,aA3BvB;AA4BE,oBAAYlH,MAAMgI,UA5BpB;AA6BE,aAAK,KAAKqB;AA7BZ;AA+BE;AAAA;AAAA;AACE,iBAAOrJ,MAAMgK,KADf;AAEE,eAAK,KAAKV,WAFZ;AAGE,kBAAQ,KAAKoD,WAHf;AAIE,mBAAS,KAAKC,YAJhB;AAKE,qBAAW,kDAAAC,CAAWf,OAAX;AALb;AAOE;AAAA;AAAA;AACE,iBAAK,KAAKtC,gBADZ;AAEE,iBAAI,WAFN;AAGE,uBAAcjD,SAAd,gCACEA,SADF,qBAC0B5F,WAAW,UAAX,GAAwB,QADlD,CAHF;AAKE,kBAAK,UALP;AAME,iCAAkB,MANpB;AAOE,6BAAc,MAPhB;AAQE,6BAAe8K;AARjB,aASMH,mBATN;AAWGF,kBAXH;AAYG,eAAKJ,WAAL,EAZH;AAaGrK,sBAAY,CAACV,MAAMqG,SAAnB,GAA+B,IAA/B,GACC;AAAA;AAAA;AACE,mBAAI,OADN;AAEE,yBAAcC,SAAd,WAFF;AAGE,qBAAO,kEAAAzD;AAHT,eAIM,sEAJN;AAKE,uBAAS,KAAKgK;AALhB;AAOE;AAPF;AAdJ;AAPF;AA/BF,KADF;AAkED,G;;;EA9wCkB,6CAAA1K,CAAMwC,S;;AAArBuD,M,CACGtD,S,GAAY,oE;AADfsD,M,CAGG4E,Y,GAAe;AACpBxG,aAAW,WADS;AAEpB0C,eAAa,KAFO;AAGpBxD,gBAAc,KAHM;AAIpBO,4BAA0B,IAJN;AAKpBI,cAAY,IALQ;AAMpBC,cAAY,KANQ;AAOpBkB,eAAa,EAPO;AAQpBV,YAAUwB,IARU;AASpBrB,WAASqB,IATW;AAUpBtB,UAAQsB,IAVY;AAWpBpB,YAAUoB,IAXU;AAYpBnB,YAAUmB,IAZU;AAapBb,cAAYa,IAbQ;AAcpBf,kBAAgBe,IAdI;AAepB/B,aAAW,IAfS;AAgBpB6F,4BAA0B,IAhBN;AAiBpBzE,iBAAe,EAjBK;AAkBpB0E,qBAAmB,EAlBC;AAmBpBjI,oBAAkB,OAnBE;AAoBpBuC,mBAAiB,OApBG;AAqBpBsG,mBAAiB,WArBG;AAsBpBC,YAAU,KAtBU;AAuBpBhF,cAAY,CAAC,OAAD,CAvBQ;AAwBpBF,mBAAiB,EAxBG;AAyBpBmF,wBAAsB;AAzBF,C;;AAHlB/E,M,CAwUGgF,wB,GAA2B,UAACC,SAAD,EAAYC,SAAZ,EAA0B;AAC1D,MAAM3E,cAAc2E,UAAUnE,oBAAV,GACEmE,UAAU3E,WADZ,GAEEP,OAAOQ,uBAAP,CAA+ByE,SAA/B,EAA0CC,SAA1C,CAFtB;;AAIA,MAAMC,WAAW;AACf5E,4BADe;AAEfQ,0BAAsB;AAFP,GAAjB;;AAKA,MAAI,UAAUkE,SAAd,EAAyB;AACvBE,aAAStE,IAAT,GAAgBoE,UAAUpE,IAA1B;AACD;;AAED,MAAI,WAAWoE,SAAf,EAA0B;AACxB,QAAMlN,QAAQiI,OAAOU,iBAAP,CAAyBuE,SAAzB,CAAd;AACAE,aAASpN,KAAT,GAAiBA,KAAjB;AACA,QAAIkN,UAAUvM,QAAd,EAAwB;AACtByM,eAASxE,UAAT,GAAsBX,OAAOY,wBAAP,CACpBqE,SADoB,EAEpB1E,WAFoB,CAAtB;AAID;AACF;AACD,SAAO4E,QAAP;AACD,C;;AAjWGnF,M,CAmWGoF,sB,GAAyB,UAAC7K,QAAD,EAA4B;AAAA,MAAjBiJ,OAAiB,uEAAP,EAAO;;AAC1DvJ,EAAA,6CAAAA,CAAMC,QAAN,CAAeC,OAAf,CAAuBI,QAAvB,EAAiC,iBAAS;AACxC,QAAI,CAAC1C,KAAL,EAAY;AACV;AACD;AACD,QAAIA,MAAMI,IAAN,CAAWC,gBAAf,EAAiC;AAC/B8H,aAAOoF,sBAAP,CAA8BvN,MAAMC,KAAN,CAAYyC,QAA1C,EAAoDiJ,OAApD;AACD,KAFD,MAEO;AACLA,cAAQ9I,IAAR,CAAa7C,KAAb;AACD;AACF,GATD;AAUA,SAAO2L,OAAP;AACD,C;;AA/WGxD,M,CAiXGY,wB,GAA2B,UAAC9I,KAAD,EAAQyI,WAAR,EAAqB8E,eAArB,EAAyC;AACzE,MAAItN,QAAQ,EAAZ;AACA,MAAI,WAAWD,KAAX,IAAoB,CAACuN,eAAzB,EAA0C;AACxCtN,YAAQ,+DAAAgB,CAAQjB,MAAMC,KAAd,CAAR;AACD;AACD,MAAI,kBAAkBD,KAAlB,IAA2BuN,eAA/B,EAAgD;AAC9CtN,YAAQ,+DAAAgB,CAAQjB,MAAMwH,YAAd,CAAR;AACD;AACD,MAAIvH,MAAM6B,MAAV,EAAkB;AAChB7B,YAAQA,MAAM,CAAN,CAAR;AACD,GAFD,MAEO;AACL,WAAO,EAAP;AACD;AACD,MAAII,QAAQJ,KAAZ;AACA,MAAID,MAAMwF,YAAV,EAAwB;AACtBnF,YAAQJ,MAAMI,KAAd;AACD,GAFD,MAEO,IAAIoI,YAAY,iEAAAnH,CAAUrB,KAAV,CAAZ,CAAJ,EAAmC;AACxCI,YAAQoI,YAAY,iEAAAnH,CAAUrB,KAAV,CAAZ,EAA8BI,KAAtC;AACD;AACD,MAAIA,UAAUc,SAAd,EAAyB;AACvBd,YAAQ,EAAR;AACD;AACD,SAAOA,KAAP;AACD,C;;AAxYG6H,M,CA0YGsF,kB,GAAqB,UAACxN,KAAD,EAAQyN,MAAR,EAAmB;AAC7C,SAAO,oEAAAlN,CAAakN,MAAb,EAAqBzN,MAAMyG,eAA3B,CAAP;AACD,C;;AA5YGyB,M,CA8YGQ,uB,GAA0B,UAAC1I,KAAD,EAAQ0N,QAAR,EAAqB;AACpD,MAAMhC,UAAUxD,OAAOoF,sBAAP,CAA8BtN,MAAMyC,QAApC,CAAhB;AACA,MAAMgG,cAAc,EAApB;AACAiD,UAAQrJ,OAAR,CAAgB,UAACoL,MAAD,EAAY;AAC1B,QAAM9L,cAAc,yEAAA7B,CAAkB2N,MAAlB,CAApB;AACAhF,gBAAY,iEAAAnH,CAAUK,WAAV,CAAZ,IAAsC;AACpC8L,oBADoC;AAEpCxN,aAAO0B,WAF6B;AAGpCtB,aAAO6H,OAAOsF,kBAAP,CAA0BxN,KAA1B,EAAiCyN,MAAjC,CAH6B;AAIpC5N,aAAO4N,OAAOzN,KAAP,CAAaH;AAJgB,KAAtC;AAMD,GARD;AASA,MAAI6N,QAAJ,EAAc;AACZ;AACA,QAAMC,iBAAiBD,SAASjF,WAAhC;AACA,QAAMxI,QAAQyN,SAASzN,KAAvB;AACAA,UAAMoC,OAAN,CAAc,aAAK;AACjB,UAAMnC,MAAM,iEAAAoB,CAAUsM,CAAV,CAAZ;AACA,UAAI,CAACnF,YAAYvI,GAAZ,CAAD,IAAqByN,eAAezN,GAAf,MAAwBiB,SAAjD,EAA4D;AAC1DsH,oBAAYvI,GAAZ,IAAmByN,eAAezN,GAAf,CAAnB;AACD;AACF,KALD;AAMD;AACD,SAAOuI,WAAP;AACD,C;;AAtaGP,M,CAwaGU,iB,GAAoB,UAAC5I,KAAD,EAAQuN,eAAR,EAA4B;AACrD,MAAItN,QAAQ,EAAZ;AACA,MAAI,WAAWD,KAAX,IAAoB,CAACuN,eAAzB,EAA0C;AACxCtN,YAAQ,+DAAAgB,CAAQjB,MAAMC,KAAd,CAAR;AACD;AACD,MAAI,kBAAkBD,KAAlB,IAA2BuN,eAA/B,EAAgD;AAC9CtN,YAAQ,+DAAAgB,CAAQjB,MAAMwH,YAAd,CAAR;AACD;AACD,MAAIxH,MAAMwF,YAAV,EAAwB;AACtBvF,YAAQA,MAAM4N,GAAN,CAAU,UAACD,CAAD,EAAO;AACvB,aAAOA,EAAE1N,GAAT;AACD,KAFO,CAAR;AAGD;AACD,SAAOD,KAAP;AACD,C;;;;;OAjWD6N,a,GAAgB,iBAAS;AAAA,QACfhG,eADe,GACK,OAAK9H,KADV,CACf8H,eADe;;AAEvB,QAAMiG,MAAMC,MAAMC,MAAN,CAAahO,KAAzB;AACA,QACE,wEAAAY,CAAiB,OAAKb,KAAtB,KACA8H,gBAAgBhG,MADhB,IAEA,0EAAAuB,CAAmB0K,GAAnB,EAAwBjG,eAAxB,CAHF,EAIE;AACA,UAAMoG,YAAY,OAAKC,eAAL,CAAqBJ,GAArB,CAAlB;AACA,UAAIG,cAAc/M,SAAlB,EAA6B;AAC3B,eAAKiN,UAAL,CAAgBF,SAAhB;AACD;AACD,aAAKG,YAAL,CAAkB,KAAlB,EAAyB,IAAzB;AACA,aAAKC,aAAL,CAAmB,EAAnB,EAAuB,KAAvB;AACA;AACD;AACD,WAAKA,aAAL,CAAmBP,GAAnB;AACA,WAAKQ,QAAL,CAAc;AACZxF,YAAM;AADM,KAAd;AAGA,QAAI,kEAAApI,CAAW,OAAKX,KAAhB,CAAJ,EAA4B;AAC1B,aAAKoO,UAAL,CAAgB,CAACL,GAAD,CAAhB;AACD;AACF,G;;OAEDzB,uB,GAA0B,gBAAQ;AAChC,QAAIvD,QAAQ,CAAC,OAAK+C,QAAlB,EAA4B;AAC1B,aAAKxB,aAAL;AACA,aAAKkE,YAAL;AACA,aAAK1C,QAAL,GAAgB,IAAhB;AACA,aAAK2C,oBAAL;AACD;AACD,WAAKJ,YAAL,CAAkBtF,IAAlB;AACD,G;;OAGD4C,S,GAAY,iBAAS;AACnB,QAAM3L,QAAQ,OAAKA,KAAnB;AACA,QAAIA,MAAMoD,QAAV,EAAoB;AAClB;AACD;AACD,QAAMsL,UAAUV,MAAMU,OAAtB;AACA,QAAI,OAAK/F,KAAL,CAAWI,IAAX,IAAmB,CAAC,OAAKc,eAAL,EAAxB,EAAgD;AAC9C,aAAKxC,cAAL,CAAoB2G,KAApB;AACD,KAFD,MAEO,IAAIU,YAAY,2DAAAC,CAAQC,KAApB,IAA6BF,YAAY,2DAAAC,CAAQE,IAArD,EAA2D;AAChE,aAAKR,YAAL,CAAkB,IAAlB;AACAL,YAAMvM,cAAN;AACD;AACF,G;;OAED4F,c,GAAiB,iBAAS;AACxB,QAAMrH,QAAQ,OAAKA,KAAnB;AACA,QAAIA,MAAMoD,QAAV,EAAoB;AAClB;AACD;AACD,QAAMuF,QAAQ,OAAKA,KAAnB;AACA,QAAM+F,UAAUV,MAAMU,OAAtB;AACA,QACE,wEAAA7N,CAAiBb,KAAjB,KACA,CAACgO,MAAMC,MAAN,CAAahO,KADd,IAEAyO,YAAY,2DAAAC,CAAQG,SAHtB,EAIE;AACAd,YAAMvM,cAAN;AADA,UAEQxB,KAFR,GAEkB0I,KAFlB,CAEQ1I,KAFR;;AAGA,UAAIA,MAAM6B,MAAV,EAAkB;AAChB,eAAKiN,cAAL,CAAoB9O,MAAMA,MAAM6B,MAAN,GAAe,CAArB,CAApB;AACD;AACD;AACD;AACD,QAAI4M,YAAY,2DAAAC,CAAQE,IAAxB,EAA8B;AAC5B,UAAI,CAAClG,MAAMI,IAAX,EAAiB;AACf,eAAKiG,iBAAL;AACAhB,cAAMvM,cAAN;AACAuM,cAAMiB,eAAN;AACA;AACD;AACF,KAPD,MAOO,IAAIP,YAAY,2DAAAC,CAAQC,KAApB,IAA6BjG,MAAMI,IAAvC,EAA6C;AAClD;AACA;AACAiF,YAAMvM,cAAN;AACD,KAJM,MAIA,IAAIiN,YAAY,2DAAAC,CAAQO,GAAxB,EAA6B;AAClC,UAAIvG,MAAMI,IAAV,EAAgB;AACd,eAAKsF,YAAL,CAAkB,KAAlB;AACAL,cAAMvM,cAAN;AACAuM,cAAMiB,eAAN;AACD;AACD;AACD;;AAED,QAAItG,MAAMI,IAAV,EAAgB;AACd,UAAMoG,OAAO,OAAKC,gBAAL,CAAsBC,YAAtB,EAAb;AACA,UAAIF,QAAQA,KAAKxD,SAAL,CAAeqC,KAAf,EAAsB,OAAKsB,cAA3B,CAAZ,EAAwD;AACtDtB,cAAMvM,cAAN;AACAuM,cAAMiB,eAAN;AACD;AACF;AACF,G;;OAEDzC,Y,GAAe,gBAAc;AAAA,QAAXlK,IAAW,QAAXA,IAAW;;AAC3B,QAAI,CAACA,IAAL,EAAW;AACT;AACD;AACD,QAAIrC,QAAQ,OAAK0I,KAAL,CAAW1I,KAAvB;AACA,QAAMD,QAAQ,OAAKA,KAAnB;AACA,QAAMuP,gBAAgB,yEAAAzP,CAAkBwC,IAAlB,CAAtB;AACA,QAAMkN,YAAYvP,MAAMA,MAAM6B,MAAN,GAAe,CAArB,CAAlB;AACA,WAAK2N,UAAL,CAAgBF,aAAhB;AACA,QAAI,wEAAA1O,CAAiBb,KAAjB,CAAJ,EAA6B;AAC3B,UAAI,qFAAA0B,CAA8BzB,KAA9B,EAAqCsP,aAArC,MAAwD,CAAC,CAA7D,EAAgE;AAC9D;AACD;AACDtP,cAAQA,MAAMuC,MAAN,CAAa,CAAC+M,aAAD,CAAb,CAAR;AACD,KALD,MAKO;AACL,UAAIC,aAAaA,cAAcD,aAA3B,IAA4CA,kBAAkB,OAAK5G,KAAL,CAAWyD,aAA7E,EAA4F;AAC1F,eAAKiC,YAAL,CAAkB,KAAlB,EAAyB,IAAzB;AACA;AACD;AACDpO,cAAQ,CAACsP,aAAD,CAAR;AACA,aAAKlB,YAAL,CAAkB,KAAlB,EAAyB,IAAzB;AACD;AACD,WAAKD,UAAL,CAAgBnO,KAAhB;AACA,QAAI4I,mBAAJ;AACA,QAAI,kEAAAlI,CAAWX,KAAX,CAAJ,EAAuB;AACrB6I,mBAAa,oEAAAtI,CAAa+B,IAAb,EAAmBtC,MAAMyG,eAAzB,CAAb;AACD,KAFD,MAEO;AACLoC,mBAAa,EAAb;AACD;AACD,QAAI7I,MAAMiN,oBAAV,EAAgC;AAC9B,aAAKqB,aAAL,CAAmBzF,UAAnB,EAA+B,KAA/B;AACD;AACF,G;;OAED4D,c,GAAiB,iBAAwB;AAAA,QAArBnK,IAAqB,SAArBA,IAAqB;AAAA,QAAfoN,QAAe,SAAfA,QAAe;;AACvC,QAAIA,SAASvP,IAAT,KAAkB,OAAtB,EAA+B;AAC7B,aAAK4O,cAAL,CAAoB,yEAAAjP,CAAkBwC,IAAlB,CAApB;AACD;AAHsC,QAI/BtC,KAJ+B,GAIrB,MAJqB,CAI/BA,KAJ+B;;AAKvC,QAAIA,MAAMiN,oBAAV,EAAgC;AAC9B,aAAKqB,aAAL,CAAmB,EAAnB,EAAuB,KAAvB;AACD;AACF,G;;OAEDzB,Y,GAAe,aAAK;AAClBrL,MAAEyN,eAAF;AACAzN,MAAEC,cAAF;AACA,QAAI,CAAC,OAAKzB,KAAL,CAAWoD,QAAhB,EAA0B;AACxB,aAAKiL,YAAL,CAAkB,CAAC,OAAK1F,KAAL,CAAWI,IAA9B,EAAoC,CAAC,OAAKJ,KAAL,CAAWI,IAAhD;AACD;AACF,G;;OAED4G,kB,GAAqB,YAAM;AACzB,QAAI,OAAK9F,eAAL,EAAJ,EAA4B;AAC1B,aAAKA,eAAL,GAAuBH,KAAvB;AACD;AACF,G;;OAEDiD,Y,GAAe,UAACnL,CAAD,EAAO;AACpB,QAAI,OAAKxB,KAAL,CAAWoD,QAAf,EAAyB;AACvB5B,QAAEC,cAAF;AACA;AACD;AACD,WAAK6I,aAAL;AACA,QACE,CAAC,kFAAAvJ,CAA2B,OAAKf,KAAhC,CAAD,IACAwB,EAAEyM,MAAF,KAAa,OAAKpE,eAAL,EAFf,EAGE;AACA;AACD;AACD,QAAI,OAAKiC,QAAT,EAAmB;AACjB;AACD;AACD,WAAKA,QAAL,GAAgB,IAAhB;AACA,WAAK2C,oBAAL;AACA,WAAKD,YAAL;AACD,G;;OAEDzC,Y,GAAe,YAAM;AACnB;AACA,WAAK6D,UAAL,CAAgB,IAAhB,EAAsB,IAAtB;AACD,G;;OAEDlD,W,GAAc,UAAClL,CAAD,EAAO;AACnB,QAAI,OAAKxB,KAAL,CAAWoD,QAAf,EAAyB;AACvB5B,QAAEC,cAAF;AACA;AACD;AACD,WAAKoO,SAAL,GAAiBC,WAAW,YAAM;AAChC,aAAKhE,QAAL,GAAgB,KAAhB;AACA,aAAK2C,oBAAL;AACA,UAAMzO,QAAQ,OAAKA,KAAnB;AAHgC,UAI1BC,KAJ0B,GAIhB,OAAK0I,KAJW,CAI1B1I,KAJ0B;AAAA,UAKxB4I,UALwB,GAKT,OAAKF,KALI,CAKxBE,UALwB;;AAMhC,UACE,oEAAA7H,CAAahB,KAAb,KACAA,MAAMmG,UADN,IAEA0C,UAFA,IAGA7I,MAAM+F,wBAJR,EAKE;AACA,YAAM2F,UAAU,OAAKJ,QAAL,IAAiB,EAAjC;AACA,YAAII,QAAQ5J,MAAZ,EAAoB;AAClB,cAAMiO,cAAc,yEAAA7M,CAAkBwI,OAAlB,CAApB;AACA,cAAIqE,WAAJ,EAAiB;AACf9P,oBAAQ,CAAC,yEAAAH,CAAkBiQ,WAAlB,CAAD,CAAR;AACA,mBAAK3B,UAAL,CAAgBnO,KAAhB;AACD;AACF;AACF,OAdD,MAcO,IAAI,wEAAAY,CAAiBb,KAAjB,KAA2B6I,UAA/B,EAA2C;AAChD;AACA,eAAKF,KAAL,CAAWE,UAAX,GAAwB,OAAKgB,eAAL,GAAuB5J,KAAvB,GAA+B,EAAvD;;AAEAA,gBAAQ,OAAKkO,eAAL,CAAqBtF,UAArB,CAAR;AACA,YAAI5I,UAAUkB,SAAd,EAAyB;AACvB,iBAAKiN,UAAL,CAAgBnO,KAAhB;AACD;AACF;AACDD,YAAM8G,MAAN,CAAa,OAAKkJ,gBAAL,CAAsB/P,KAAtB,CAAb;AACA,aAAKoO,YAAL,CAAkB,KAAlB;AACD,KA/BgB,EA+Bd,EA/Bc,CAAjB;AAgCD,G;;OAEDpD,gB,GAAmB,iBAAS;AAC1B,QAAMjL,QAAQ,OAAKA,KAAnB;AACA,QAAM2I,QAAQ,OAAKA,KAAnB;AACA,QAAI3I,MAAMoD,QAAV,EAAoB;AAClB;AACD;AALyB,QAMlByF,UANkB,GAMIF,KANJ,CAMlBE,UANkB;AAAA,QAMN5I,KANM,GAMI0I,KANJ,CAMN1I,KANM;;AAO1B+N,UAAMiB,eAAN;AACA,QAAIpG,cAAc5I,MAAM6B,MAAxB,EAAgC;AAC9B,UAAI7B,MAAM6B,MAAV,EAAkB;AAChB,eAAKsM,UAAL,CAAgB,EAAhB;AACD;AACD,aAAKC,YAAL,CAAkB,KAAlB,EAAyB,IAAzB;AACA,UAAIxF,UAAJ,EAAgB;AACd,eAAKyF,aAAL,CAAmB,EAAnB;AACD;AACF;AACF,G;;OAED2B,sB,GAAyB,YAAM;AAC7B,WAAK9F,eAAL;AACD,G;;OAkHD+F,0B,GAA6B,UAACjQ,KAAD,EAAQwI,WAAR,EAAwB;AACnD,QAAI0H,aAAJ;AACA1H,kBAAcA,eAAe,OAAKE,KAAL,CAAWF,WAAxC;AACA,QAAIA,YAAY,iEAAAnH,CAAUrB,KAAV,CAAZ,CAAJ,EAAmC;AACjCkQ,aAAO1H,YAAY,iEAAAnH,CAAUrB,KAAV,CAAZ,CAAP;AACD;AACD,QAAIkQ,IAAJ,EAAU;AACR,aAAOA,IAAP;AACD;AACD,QAAIC,eAAenQ,KAAnB;AACA,QAAI,OAAKD,KAAL,CAAWwF,YAAf,EAA6B;AAC3B,UAAMnF,QAAQ,8EAAA0B,CAAuB,OAAK/B,KAAL,CAAWC,KAAlC,EAAyCA,KAAzC,CAAd;AACA,UAAII,UAAUc,SAAd,EAAyB;AACvBiP,uBAAe/P,KAAf;AACD;AACF;AACD,QAAMgQ,cAAc;AAClB5C,cAAQ;AAAC,iEAAD;AAAA,UAAQ,OAAOxN,KAAf,EAAsB,KAAKA,KAA3B;AAAmCA;AAAnC,OADU;AAElBA,kBAFkB;AAGlBI,aAAO+P;AAHW,KAApB;AAKA,WAAOC,WAAP;AACD,G;;OAEDC,sB,GAAyB,iBAAS;AAAA,gCACb,OAAKJ,0BAAL,CAAgCjQ,KAAhC,CADa;AAAA,QACxBwN,MADwB,yBACxBA,MADwB;;AAEhC,WAAOA,MAAP;AACD,G;;OAED8C,uB,GAA0B,kBAAU;AAClC,WAAOC,OAAO3C,GAAP,CAAW,iBAAS;AACzB,aAAO,OAAKyC,sBAAL,CAA4BrQ,KAA5B,CAAP;AACD,KAFM,CAAP;AAGD,G;;OAEDwQ,e,GAAkB,UAACpQ,KAAD,EAAW;AAC3B,QAAIA,UAAUc,SAAd,EAAyB;AACvB,aAAO,IAAP;AACD;AACD,QAAIlB,QAAQ,IAAZ;AACAyQ,WAAOC,IAAP,CAAY,OAAKhI,KAAL,CAAWF,WAAvB,EAAoCpG,OAApC,CAA4C,eAAO;AACjD,UAAM8N,OAAO,OAAKxH,KAAL,CAAWF,WAAX,CAAuBvI,GAAvB,CAAb;AACA,UAAI,+DAAAe,CAAQkP,KAAK9P,KAAb,EAAoBuD,IAApB,CAAyB,EAAzB,MAAiCvD,KAArC,EAA4C;AAC1CJ,gBAAQkQ,KAAKlQ,KAAb;AACD;AACF,KALD;AAMA,WAAOA,KAAP;AACD,G;;OAED2Q,kB,GAAqB,iBAAS;AAC5B,QAAI,OAAK5Q,KAAL,CAAWwF,YAAf,EAA6B;AAC3B,aAAO;AACLtF,aAAKD,KADA;AAELI,eAAO,OAAKwQ,qBAAL,CAA2B5Q,KAA3B;AAFF,OAAP;AAID;AACD,WAAOA,KAAP;AACD,G;;OAED+P,gB,GAAmB,gBAAQ;AACzB,QAAIc,MAAMC,IAAV;AACA,QAAID,QAAQ3P,SAAZ,EAAuB;AACrB,UAAI,CAAC,OAAKnB,KAAL,CAAWwF,YAAhB,EAA8B;AAC5BsL,cAAMA,IAAIjD,GAAJ,CAAQ;AAAA,iBAAKD,CAAL;AAAA,SAAR,CAAN;AACD,OAFD,MAEO;AACLkD,cAAMA,IAAIjD,GAAJ,CAAQ;AAAA,iBAAO;AACnB3N,iBAAK8Q,EADc;AAEnB3Q,mBAAO,OAAKwQ,qBAAL,CAA2BG,EAA3B;AAFY,WAAP;AAAA,SAAR,CAAN;AAID;AACD,aAAO,wEAAAnQ,CAAiB,OAAKb,KAAtB,IAA+B8Q,GAA/B,GAAqCA,IAAI,CAAJ,CAA5C;AACD;AACD,WAAOA,GAAP;AACD,G;;OAEDD,qB,GAAwB,UAAC5Q,KAAD,EAAQwI,WAAR,EAAwB;AAAA,iCAC5B,OAAKyH,0BAAL,CAAgCjQ,KAAhC,EAAuCwI,WAAvC,CAD4B;AAAA,QACtCpI,KADsC,0BACtCA,KADsC;;AAE9C,WAAOA,KAAP;AACD,G;;OAED4Q,oB,GAAuB,YAAM;AAC3B,QAAI,CAAC,OAAK1G,iBAAV,EAA6B;AAC3B,aAAKA,iBAAL,GAAyBG,SAASwG,aAAT,CAAuB,KAAvB,CAAzB;AACAxG,eAASC,IAAT,CAAcwG,WAAd,CAA0B,OAAK5G,iBAA/B;AACD;AACD,WAAO,OAAKA,iBAAZ;AACD,G;;OAED6G,qB,GAAwB,YAAM;AAAA,QACpBpR,KADoB,GACH,MADG,CACpBA,KADoB;AAAA,QACb2I,KADa,GACH,MADG,CACbA,KADa;;AAE5B,QAAI0I,SAAS,KAAb;AACA,QAAI1I,MAAME,UAAV,EAAsB;AACpBwI,eAAS,IAAT;AACD;AACD,QAAI1I,MAAM1I,KAAN,CAAY6B,MAAhB,EAAwB;AACtBuP,eAAS,IAAT;AACD;AACD,QAAI,kEAAA1Q,CAAWX,KAAX,KAAqB2I,MAAM1I,KAAN,CAAY6B,MAAZ,KAAuB,CAA5C,IAAiD,CAAC6G,MAAM1I,KAAN,CAAY,CAAZ,CAAtD,EAAsE;AACpEoR,eAAS,KAAT;AACD;AACD,QAAM/J,cAActH,MAAMsH,WAA1B;AACA,QAAIA,WAAJ,EAAiB;AACf,aACE;AAAA;AAAA;AACE,uBAAa,mEADf;AAEE;AACEgK,qBAASD,SAAS,MAAT,GAAkB;AAD7B,aAEK,kEAFL;AAFF,WAMM,sEANN;AAOE,mBAAS,OAAK1B,kBAPhB;AAQE,qBAAc3P,MAAMsG,SAApB;AARF;AAUGgB;AAVH,OADF;AAcD;AACD,WAAO,IAAP;AACD,G;;OAEDS,e,GAAkB,YAAM;AAAA;;AACtB,QAAM/H,QAAQ,OAAKA,KAAnB;AACA,QAAMuR,eAAevR,MAAM+H,eAAN,GACjB/H,MAAM+H,eAAN,EADiB,GAEjB,uEAAO,IAAI/H,MAAMwR,EAAjB,EAAqB,cAAa,KAAlC,GAFJ;AAGA,QAAMC,WAAW,kDAAA7E,CAAW2E,aAAavR,KAAb,CAAmBuG,SAA9B,iCACXvG,MAAMsG,SADK,uBACuB,IADvB,eAAjB;AAGA;AACA;AACA,WACE;AAAA;AAAA,QAAK,WAActG,MAAMsG,SAApB,yBAAL;AACGnE,MAAA,6CAAAA,CAAMuP,YAAN,CAAmBH,YAAnB,EAAiC;AAChCI,aAAK,OAAKzI,YADsB;AAEhCtC,kBAAU,OAAKkH,aAFiB;AAGhCnC,mBAAWtD,SACT,OAAKhB,cADI,EAETkK,aAAavR,KAAb,CAAmB2L,SAFV,EAGT,OAAK3L,KAAL,CAAWqH,cAHF,CAHqB;AAQhCpH,eAAO,OAAK0I,KAAL,CAAWE,UARc;AAShCzF,kBAAUpD,MAAMoD,QATgB;AAUhCmD,mBAAWkL;AAVqB,OAAjC,CADH;AAaE;AAAA;AAAA;AACE,eAAK,OAAKtI,kBADZ;AAEE,qBAAcnJ,MAAMsG,SAApB;AAFF;AAIG,eAAKqC,KAAL,CAAWE,UAJd;AAAA;AAAA;AAbF,KADF;AAsBD,G;;OAEDgB,e,GAAkB,YAAM;AACtB,WAAO,OAAK+H,UAAL,GACH,OAAKA,UAAL,CAAgBC,aAAhB,CAA8B,qCAA9B,CADG,GAEH,OAAKC,QAFT;AAGD,G;;OAED/H,qB,GAAwB,YAAM;AAC5B,WAAO,OAAKgI,cAAZ;AACD,G;;OAEDC,e,GAAkB,YAAM;AACtB,WAAO,OAAK5C,gBAAL,CAAsB4C,eAAtB,EAAP;AACD,G;;OAEDC,qB,GAAwB,YAAM;AAC5B,WAAO,OAAK7C,gBAAL,CAAsBC,YAAtB,EAAP;AACD,G;;OAEDhB,Y,GAAe,UAACtF,IAAD,EAAOmJ,SAAP,EAAqB;AAAA,QAC1BlS,KAD0B,GACT,MADS,CAC1BA,KAD0B;AAAA,QACnB2I,KADmB,GACT,MADS,CACnBA,KADmB;;AAElC,QAAIA,MAAMI,IAAN,KAAeA,IAAnB,EAAyB;AACvB,aAAK6G,UAAL,CAAgB7G,IAAhB,EAAsBmJ,SAAtB;AACA;AACD;AACD,QAAMC,YAAY;AAChBpJ,gBADgB;AAEhBqD,qBAAejL;AAFC,KAAlB;AAIA;AACA,QAAI,CAAC4H,IAAD,IAAS,oEAAA/H,CAAahB,KAAb,CAAT,IAAgCA,MAAMmG,UAA1C,EAAsD;AACpD,aAAKmI,aAAL,CAAmB,EAAnB,EAAuB,KAAvB;AACD;AACD,QAAI,CAACvF,IAAL,EAAW;AACT,aAAK6G,UAAL,CAAgB7G,IAAhB,EAAsBmJ,SAAtB;AACD;AACD,WAAK3D,QAAL,CAAc4D,SAAd,EAAyB,YAAM;AAC7B,UAAIpJ,IAAJ,EAAU;AACR,eAAK6G,UAAL,CAAgB7G,IAAhB,EAAsBmJ,SAAtB;AACD;AACF,KAJD;AAKD,G;;OAED5D,a,GAAgB,UAACzF,UAAD,EAAmC;AAAA,QAAtBuJ,UAAsB,uEAAT,IAAS;;AACjD,QAAIvJ,eAAe,OAAKF,KAAL,CAAWE,UAA9B,EAA0C;AACxC,aAAK0F,QAAL,CAAc;AACZ1F;AADY,OAAd,EAEG,OAAKsB,eAFR;AAGA,UAAIiI,UAAJ,EAAgB;AACd,eAAKpS,KAAL,CAAWiH,QAAX,CAAoB4B,UAApB;AACD;AACF;AACF,G;;OAEDsF,e,GAAkB,kBAAU;AAAA,kBACY,OAAKnO,KADjB;AAAA,QAClBU,QADkB,WAClBA,QADkB;AAAA,QACRoH,eADQ,WACRA,eADQ;;AAE1B,QAAIoG,YAAY,OAAKvF,KAAL,CAAW1I,KAA3B;AACA,QAAIoS,cAAc,KAAlB;AACA5O,IAAA,yEAAAA,CAAkBH,MAAlB,EAA0BwE,eAA1B,EAA2CzF,OAA3C,CAAmD,iBAAS;AAC1D,UAAMkN,gBAAgB,CAAClP,KAAD,CAAtB;AACA,UAAIK,QAAJ,EAAc;AACZ,YAAMT,QAAQ,OAAKwQ,eAAL,CAAqBpQ,KAArB,CAAd;AACA,YAAIJ,SAAS,qFAAAyB,CAA8BwM,SAA9B,EAAyCjO,KAAzC,MAAoD,CAAC,CAAlE,EAAqE;AACnEiO,sBAAYA,UAAU1L,MAAV,CAAiBvC,KAAjB,CAAZ;AACAoS,wBAAc,IAAd;AACA,iBAAK5C,UAAL,CAAgBxP,KAAhB;AACD;AACF,OAPD,MAOO;AACL;AACA,YAAI,qFAAAyB,CAA8BwM,SAA9B,EAAyC7N,KAAzC,MAAoD,CAAC,CAAzD,EAA4D;AAC1D6N,sBAAYA,UAAU1L,MAAV,CAAiB+M,aAAjB,CAAZ;AACA8C,wBAAc,IAAd;AACA,iBAAK5C,UAAL,CAAgBpP,KAAhB;AACD;AACF;AACF,KAjBD;AAkBA,WAAOgS,cAAcnE,SAAd,GAA0B/M,SAAjC;AACD,G;;OAEDsK,gB,GAAmB,YAAM;AACvB,QAAI1C,OAAO,OAAKJ,KAAL,CAAWI,IAAtB;AACA,QAAM2C,UAAU,OAAKJ,QAAL,IAAiB,EAAjC;AACA,QAAI,kFAAAvK,CAA2B,OAAKf,KAAhC,KAA0C,CAAC,OAAKA,KAAL,CAAWmG,UAA1D,EAAsE;AACpE,UAAI4C,QAAQ,CAAC2C,QAAQ5J,MAArB,EAA6B;AAC3BiH,eAAO,KAAP;AACD;AACF;AACD,WAAOA,IAAP;AACD,G;;OAkBDuG,c,GAAiB,UAAChN,IAAD,EAAU;AACzB,QAAI,CAAC,OAAKtC,KAAL,CAAWgN,QAAZ,IAAwB,EAAE,oEAAAhM,CAAa,OAAKhB,KAAlB,KAA4B,kEAAAW,CAAW,OAAKX,KAAhB,CAA9B,CAA5B,EAAmF;AACjF;AACD;;AAED,QAAME,MAAM,yEAAAJ,CAAkBwC,IAAlB,CAAZ;;AAEA,QAAI,kEAAA3B,CAAW,OAAKX,KAAhB,CAAJ,EAA4B;AAC1B,aAAKsO,aAAL,CAAmBpO,GAAnB,EAAwB,KAAxB;AACD;;AAED,WAAKqO,QAAL,CAAc;AACZtO,aAAO,CAACC,GAAD,CADK;AAEZkM,qBAAelM;AAFH,KAAd;AAID,G;;OAED+F,Y,GAAe,UAAChC,KAAD,EAAQlE,KAAR,EAAmD;AAAA,QAApCuS,aAAoC,uEAApB,+DAAoB;AAAA,QACxDrS,KADwD,GAC9C,OAAK0I,KADyC,CACxD1I,KADwD;;AAEhE,QAAMuP,YAAYvP,MAAMA,MAAM6B,MAAN,GAAe,CAArB,CAAlB;AACA,QAAI,CAACmC,KAAD,IAAWuL,aAAaA,cAAc,OAAK7G,KAAL,CAAWyD,aAArD,EAAqE;AACnE,aAAO,IAAP;AACD;AACD,QAAImG,WAAW,OAAKvS,KAAL,CAAWiG,YAA1B;AACA,QAAI,kBAAkB,OAAKjG,KAA3B,EAAkC;AAChC,UAAI,OAAKA,KAAL,CAAWiG,YAAX,KAA4B,IAAhC,EAAsC;AACpCsM,mBAAWD,aAAX;AACD;AACF,KAJD,MAIO;AACLC,iBAAWD,aAAX;AACD;;AAED,QAAI,CAACC,QAAL,EAAe;AACb,aAAO,IAAP;AACD,KAFD,MAEO,IAAI,OAAOA,QAAP,KAAoB,UAAxB,EAAoC;AACzC,aAAOA,SAASC,IAAT,CAAc,MAAd,EAAoBvO,KAApB,EAA2BlE,KAA3B,CAAP;AACD,KAFM,MAEA,IAAIA,MAAMC,KAAN,CAAYoD,QAAhB,EAA0B;AAC/B,aAAO,KAAP;AACD;AACD,WAAO,IAAP;AACD,G;;OAEDoL,Y,GAAe,YAAM;AACnB,QAAI,OAAKiE,UAAT,EAAqB;AACnB,aAAKpI,cAAL;AACD;AACD,WAAKoI,UAAL,GAAkB3C,WAAW,YAAM;AACjC,aAAK9P,KAAL,CAAW+G,OAAX;AACD,KAFiB,EAEf,EAFe,CAAlB;AAGD,G;;OAEDsD,c,GAAiB,YAAM;AACrB,QAAI,OAAKoI,UAAT,EAAqB;AACnBC,mBAAa,OAAKD,UAAlB;AACA,aAAKA,UAAL,GAAkB,IAAlB;AACD;AACF,G;;OAEDnI,a,GAAgB,YAAM;AACpB,QAAI,OAAKuF,SAAT,EAAoB;AAClB6C,mBAAa,OAAK7C,SAAlB;AACA,aAAKA,SAAL,GAAiB,IAAjB;AACD;AACF,G;;OAEDpB,oB,GAAuB,YAAM;AAAA,QACnBkE,OADmB,GACA,MADA,CACnBA,OADmB;AAAA,QACV3S,KADU,GACA,MADA,CACVA,KADU;AAE3B;;AACA,QAAI,OAAK8L,QAAT,EAAmB;AACjB8G,MAAA,yDAAAA,CAAQD,OAAR,EAAiBE,GAAjB,CAAwB7S,MAAMsG,SAA9B;AACD,KAFD,MAEO;AACLsM,MAAA,yDAAAA,CAAQD,OAAR,EAAiBG,MAAjB,CAA2B9S,MAAMsG,SAAjC;AACD;AACF,G;;OAEDsJ,U,GAAa,UAAC7G,IAAD,EAAOmJ,SAAP,EAAqB;AAChC,QAAIA,aAAanJ,IAAjB,EAAuB;AACrB,UAAM9E,QAAQ,OAAK4F,eAAL,EAAd;AADqB,sBAEKa,QAFL;AAAA,UAEbqI,aAFa,aAEbA,aAFa;;AAGrB,UAAI9O,UAAU8E,QAAQ,kFAAAhI,CAA2B,OAAKf,KAAhC,CAAlB,CAAJ,EAA+D;AAC7D,YAAI+S,kBAAkB9O,KAAtB,EAA6B;AAC3BA,gBAAMyF,KAAN;AACA,iBAAKoC,QAAL,GAAgB,IAAhB;AACD;AACF,OALD,MAKO;AACL,YAAIiH,kBAAkB,OAAKlI,YAA3B,EAAyC;AACvC,iBAAKA,YAAL,CAAkBnB,KAAlB;AACA,iBAAKoC,QAAL,GAAgB,IAAhB;AACD;AACF;AACF;AACF,G;;OAEDiD,c,GAAiB,UAACiE,WAAD,EAAcxR,CAAd,EAAoB;AACnC,QAAMxB,QAAQ,OAAKA,KAAnB;AACA,QAAIA,MAAMoD,QAAN,IAAkB,OAAK6P,eAAL,CAAqBD,WAArB,CAAtB,EAAyD;AACvD;AACD;;AAED;AACA,QAAIxR,KAAKA,EAAEyN,eAAX,EAA4B;AAC1BzN,QAAEyN,eAAF;AACD;;AAED,QAAMhP,QAAQ,OAAK0I,KAAL,CAAW1I,KAAX,CAAiB6D,MAAjB,CAAwB,uBAAe;AACnD,aAAOnC,gBAAgBqR,WAAvB;AACD,KAFa,CAAd;AAGA,QAAME,cAAc,wEAAArS,CAAiBb,KAAjB,CAApB;;AAEA,QAAIkT,WAAJ,EAAiB;AACf,UAAIlF,QAAQgF,WAAZ;AACA,UAAIhT,MAAMwF,YAAV,EAAwB;AACtBwI,gBAAQ;AACN9N,eAAK8S,WADC;AAEN3S,iBAAO,OAAKwQ,qBAAL,CAA2BmC,WAA3B;AAFD,SAAR;AAID;AACDhT,YAAMuH,UAAN,CAAiByG,KAAjB,EAAwB,OAAKsC,sBAAL,CAA4B0C,WAA5B,CAAxB;AACD;AACD,WAAK5E,UAAL,CAAgBnO,KAAhB;AACD,G;;OAED+O,iB,GAAoB,YAAM;AACxB,QAAMhP,QAAQ,OAAKA,KAAnB;AACA,QAAI,6CAAAmC,CAAMC,QAAN,CAAe+Q,KAAf,CAAqBnT,MAAMyC,QAA3B,KAAwC,oEAAAzB,CAAahB,KAAb,CAA5C,EAAiE;AAC/D,aAAKqO,YAAL,CAAkB,IAAlB;AACD;AACF,G;;OAEDoB,U,GAAa,iBAAS;AACpB,WAAKzP,KAAL,CAAWgH,QAAX,CAAoB,OAAK4J,kBAAL,CAAwB3Q,KAAxB,CAApB,EAAoD,OAAKqQ,sBAAL,CAA4BrQ,KAA5B,CAApD;AACD,G;;OAEDmO,U,GAAa,iBAAS;AACpB,QAAMpO,QAAQ,OAAKA,KAAnB;AACA,QAAI,EAAE,WAAWA,KAAb,CAAJ,EAAyB;AACvB,aAAKuO,QAAL,CAAc;AACZtO;AADY,OAAd,EAEG,OAAKkK,eAFR;AAGD;AACD,QAAM2G,MAAM,OAAKd,gBAAL,CAAsB/P,KAAtB,CAAZ;AACA,QAAMyL,UAAU,OAAK6E,uBAAL,CAA6BtQ,KAA7B,CAAhB;AACAD,UAAM4G,QAAN,CAAekK,GAAf,EAAoB,wEAAAjQ,CAAiB,OAAKb,KAAtB,IAA+B0L,OAA/B,GAAyCA,QAAQ,CAAR,CAA7D;AACD,G;;OAEDuH,e,GAAkB,eAAO;AACvB,WAAO,oEAAAG,CAAgB,OAAKpT,KAAL,CAAWyC,QAA3B,EAAqC4Q,IAArC,CAA0C,iBAAS;AACxD,UAAMC,aAAa,yEAAAxT,CAAkBC,KAAlB,CAAnB;AACA,aAAOuT,eAAepT,GAAf,IAAsBH,MAAMC,KAA5B,IAAqCD,MAAMC,KAAN,CAAYoD,QAAxD;AACD,KAHM,CAAP;AAID,G;;OAED+G,e,GAAkB,YAAM;AACtB,WAAKiF,gBAAL,CAAsBmE,UAAtB,CAAiCpJ,eAAjC;AACD,G;;OAEDoB,mB,GAAsB,YAAM;AAAA,QAClB1C,UADkB,GACH,OAAKF,KADF,CAClBE,UADkB;AAAA,kBAEgC,OAAK7I,KAFrC;AAAA,QAElByC,QAFkB,WAElBA,QAFkB;AAAA,QAER3B,IAFQ,WAERA,IAFQ;AAAA,QAEFmF,YAFE,WAEFA,YAFE;AAAA,QAEY8G,eAFZ,WAEYA,eAFZ;;AAG1B,QAAM9K,YAAY,EAAlB;AACA,QAAMuR,eAAe,EAArB;AACA,QAAI9H,UAAU,OAAK+H,+BAAL,CACZhR,QADY,EAEZ+Q,YAFY,EAGZvR,SAHY,CAAd;AAKA,QAAInB,IAAJ,EAAU;AACR;AACA,UAAIb,QAAQ,OAAK0I,KAAL,CAAW1I,KAAvB;AACAA,cAAQA,MAAM6D,MAAN,CAAa,uBAAe;AAClC,eACE0P,aAAapP,OAAb,CAAqBzC,WAArB,MAAsC,CAAC,CAAvC,KACC,CAACkH,UAAD,IACC6K,OAAO/R,WAAP,EAAoByC,OAApB,CAA4BsP,OAAO7K,UAAP,CAA5B,IAAkD,CAAC,CAFrD,CADF;AAKD,OANO,CAAR;AAOA5I,YAAMoC,OAAN,CAAc,uBAAe;AAC3B,YAAMnC,MAAMyB,WAAZ;AACA,YAAMgS,WACJ;AAAC,uDAAD;AAAA;AACE,mBAAO,kEADT;AAEE,kBAAK,QAFP;AAGE,uBAAW,sEAHb;AAIE,mBAAOzT,GAJT;AAKE,iBAAKA;AALP;AAOGA;AAPH,SADF;AAWAwL,gBAAQ9I,IAAR,CAAa+Q,QAAb;AACA1R,kBAAUW,IAAV,CAAe+Q,QAAf;AACD,OAfD;AAgBA,UAAI9K,UAAJ,EAAgB;AACd,YAAM+K,mBAAmB3R,UAAU4R,KAAV,CAAgB,kBAAU;AACjD;AACA;AACA;AACA;AACA,cAAMtB,WAAW,SAAXA,QAAW;AAAA,mBAAM,yEAAAzS,CAAkB2N,MAAlB,MAA8B5E,UAApC;AAAA,WAAjB;AACA,cAAI5C,iBAAiB,KAArB,EAA4B;AAC1B,mBAAO,CAAC,OAAKA,YAAL,CAAkBuM,IAAlB,CACN,MADM,EAEN3J,UAFM,EAGN4E,MAHM,EAIN8E,QAJM,CAAR;AAMD;AACD,iBAAO,CAACA,UAAR;AACD,SAfwB,CAAzB;AAgBA,YAAIqB,gBAAJ,EAAsB;AACpBlI,kBAAQoI,OAAR,CACE;AAAC,yDAAD;AAAA;AACE,qBAAO,kEADT;AAEE,oBAAK,QAFP;AAGE,yBAAW,sEAHb;AAIE,qBAAOjL,UAJT;AAKE,mBAAKA;AALP;AAOGA;AAPH,WADF;AAWD;AACF;AACF;;AAED,QAAI,CAAC6C,QAAQ5J,MAAT,IAAmBiL,eAAvB,EAAwC;AACtCrB,gBAAU,CACR;AAAC,qDAAD;AAAA;AACE,iBAAO,kEADT;AAEE,qBAAW,sEAFb;AAGE,wBAHF;AAIE,gBAAK,QAJP;AAKE,iBAAM,WALR;AAME,eAAI;AANN;AAQGqB;AARH,OADQ,CAAV;AAYD;AACD,WAAOrB,OAAP;AACD,G;;OAED+H,+B,GAAkC,UAAChR,QAAD,EAAW+Q,YAAX,EAAyBvR,SAAzB,EAAuC;AACvE,QAAM8R,MAAM,EAAZ;AACA,QAAM/T,QAAQ,OAAKA,KAAnB;AAFuE,QAG/D6I,UAH+D,GAGhD,OAAKF,KAH2C,CAG/DE,UAH+D;;AAIvE,QAAM/H,OAAOd,MAAMc,IAAnB;AACAqB,IAAA,6CAAAA,CAAMC,QAAN,CAAeC,OAAf,CAAuBI,QAAvB,EAAiC,iBAAS;AACxC,UAAI,CAAC1C,KAAL,EAAY;AACV;AACD;AACD,UAAIA,MAAMI,IAAN,CAAWC,gBAAf,EAAiC;AAC/B,YAAM4T,aAAa,OAAKP,+BAAL,CACjB1T,MAAMC,KAAN,CAAYyC,QADK,EAEjB+Q,YAFiB,EAGjBvR,SAHiB,CAAnB;AAKA,YAAI+R,WAAWlS,MAAf,EAAuB;AACrB,cAAIzB,QAAQN,MAAMC,KAAN,CAAYK,KAAxB;AACA,cAAIH,MAAMH,MAAMG,GAAhB;AACA,cAAI,CAACA,GAAD,IAAQ,OAAOG,KAAP,KAAiB,QAA7B,EAAuC;AACrCH,kBAAMG,KAAN;AACD,WAFD,MAEO,IAAI,CAACA,KAAD,IAAUH,GAAd,EAAmB;AACxBG,oBAAQH,GAAR;AACD;AACD6T,cAAInR,IAAJ,CACE;AAAC,8DAAD;AAAA,cAAe,KAAK1C,GAApB,EAAyB,OAAOG,KAAhC;AACG2T;AADH,WADF;AAKD;AACD;AACD;;AAEDC,MAAA,+CAAAA,CACElU,MAAMI,IAAN,CAAW6E,cADb,EAEE,iGACkBjF,MAAMI,IAAN,CAAWqE,IAAX,IACdzE,MAAMI,IAAN,CAAW+T,WADG,IAEdnU,MAAMI,IAHV,SAFF;;AAQA,UAAMmT,aAAa,yEAAAxT,CAAkBC,KAAlB,CAAnB;;AAEAsE,MAAA,2EAAAA,CAAoBiP,UAApB,EAAgC,OAAKtT,KAArC;;AAEA,UAAI,OAAKiG,YAAL,CAAkB4C,UAAlB,EAA8B9I,KAA9B,CAAJ,EAA0C;AACxC,YAAM4T,WACJ,4DAAC,6CAAD;AACE,iBAAO,kEADT;AAEE,qBAAW,sEAFb;AAGE,iBAAOL,UAHT;AAIE,eAAKA,UAJP;AAKE,gBAAK;AALP,WAMMvT,MAAMC,KANZ,EADF;AAUA+T,YAAInR,IAAJ,CAAS+Q,QAAT;AACA1R,kBAAUW,IAAV,CAAe+Q,QAAf;AACD;AACD,UAAI7S,QAAQ,CAACf,MAAMC,KAAN,CAAYoD,QAAzB,EAAmC;AACjCoQ,qBAAa5Q,IAAb,CAAkB0Q,UAAlB;AACD;AACF,KAxDD;;AA0DA,WAAOS,GAAP;AACD,G;;OAED3I,oB,GAAuB,YAAM;AAAA,kBACS,OAAKzC,KADd;AAAA,QACnB1I,KADmB,WACnBA,KADmB;AAAA,QACZ8I,IADY,WACZA,IADY;AAAA,QACNF,UADM,WACNA,UADM;;AAE3B,QAAM7I,QAAQ,OAAKA,KAAnB;AAF2B,QAIzB2G,oBAJyB,GAUvB3G,KAVuB,CAIzB2G,oBAJyB;AAAA,QAKzBL,SALyB,GAUvBtG,KAVuB,CAKzBsG,SALyB;AAAA,QAMzBqB,gBANyB,GAUvB3H,KAVuB,CAMzB2H,gBANyB;AAAA,QAOzBC,WAPyB,GAUvB5H,KAVuB,CAOzB4H,WAPyB;AAAA,QAQzBC,iBARyB,GAUvB7H,KAVuB,CAQzB6H,iBARyB;AAAA,QASzB1B,UATyB,GAUvBnG,KAVuB,CASzBmG,UATyB;;AAW3B,QAAMI,YAAeD,SAAf,yBAAN;AACA;AACA,QAAI6N,YAAY,IAAhB;AACA,QAAI,oEAAAnT,CAAahB,KAAb,CAAJ,EAAyB;AACvB,UAAIuP,gBAAgB,IAApB;AACA,UAAItP,MAAM6B,MAAV,EAAkB;AAChB,YAAIsS,oBAAoB,KAAxB;AACA,YAAIC,UAAU,CAAd;AACA,YAAI,CAAClO,UAAL,EAAiB;AACfiO,8BAAoB,IAApB;AACD,SAFD,MAEO;AACL,cAAIrL,IAAJ,EAAU;AACRqL,gCAAoB,CAACvL,UAArB;AACA,gBAAIuL,iBAAJ,EAAuB;AACrBC,wBAAU,GAAV;AACD;AACF,WALD,MAKO;AACLD,gCAAoB,IAApB;AACD;AACF;AACD,YAAMzS,cAAc1B,MAAM,CAAN,CAApB;;AAfgB,qCAgBS,OAAKiQ,0BAAL,CAAgCvO,WAAhC,CAhBT;AAAA,YAgBRtB,KAhBQ,0BAgBRA,KAhBQ;AAAA,YAgBDR,KAhBC,0BAgBDA,KAhBC;;AAiBhB0P,wBACE;AAAA;AAAA;AACE,iBAAI,OADN;AAEE,uBAAcjJ,SAAd,8BAFF;AAGE,mBAAO,+DAAA1G,CAAQC,SAASQ,KAAjB,CAHT;AAIE,mBAAO;AACLiR,uBAAS8C,oBAAoB,OAApB,GAA8B,MADlC;AAELC;AAFK;AAJT;AASGhU;AATH,SADF;AAaD;AACD,UAAI,CAAC8F,UAAL,EAAiB;AACfgO,oBAAY,CAAC5E,aAAD,CAAZ;AACD,OAFD,MAEO;AACL4E,oBAAY,CACV5E,aADU,EAEV;AAAA;AAAA;AACE,uBAAcjJ,SAAd,gBAAkCA,SAAlC,oBADF;AAEE,iBAAI,OAFN;AAGE,mBAAO;AACLgL,uBAASvI,OAAO,OAAP,GAAiB;AADrB;AAHT;AAOG,iBAAKhB,eAAL;AAPH,SAFU,CAAZ;AAYD;AACF,KAjDD,MAiDO;AACL,UAAIuM,qBAAqB,EAAzB;AACA,UAAIC,oBAAoBtU,KAAxB;AACA,UAAIuU,4BAAJ;AACA,UAAI5M,gBAAgBzG,SAAhB,IAA6BlB,MAAM6B,MAAN,GAAe8F,WAAhD,EAA6D;AAC3D2M,4BAAoBA,kBAAkBE,KAAlB,CAAwB,CAAxB,EAA2B7M,WAA3B,CAApB;AACA,YAAM8M,gBAAgB,OAAK1E,gBAAL,CAAsB/P,MAAMwU,KAAN,CAAY7M,WAAZ,EAAyB3H,MAAM6B,MAA/B,CAAtB,CAAtB;AACA,YAAI6S,kBAAe1U,MAAM6B,MAAN,GAAe8F,WAA9B,UAAJ;AACA,YAAIC,iBAAJ,EAAuB;AACrB8M,oBAAU,OAAO9M,iBAAP,KAA6B,UAA7B,GACRA,kBAAkB6M,aAAlB,CADQ,GAC2B7M,iBADrC;AAED;AACD2M,8BAAuB;AAAA;AAAA;AACrB,mBAAO,kEAAA3R;AADc,aAEjB,sEAFiB;AAGrB,yBAAa,mEAHQ;AAIrB,uBAAcyD,SAAd,2BAA6CA,SAA7C,iCAJqB;AAKrB,iBAAK,mBALgB;AAMrB,mBAAO,+DAAA1G,CAAQ+U,OAAR;AANc;AAQrB;AAAA;AAAA,cAAK,WAAcrO,SAAd,gCAAL;AAA4DqO;AAA5D;AARqB,SAAvB;AAUD;AACD,UAAI,wEAAA9T,CAAiBb,KAAjB,CAAJ,EAA6B;AAC3BsU,6BAAqBC,kBAAkB1G,GAAlB,CAAsB,uBAAe;AACxD,cAAMsC,OAAO,OAAKD,0BAAL,CAAgCvO,WAAhC,CAAb;AACA,cAAIgT,UAAUxE,KAAK9P,KAAnB;AACA,cAAMR,QAAQsQ,KAAKtQ,KAAL,IAAc8U,OAA5B;AACA,cACEhN,oBACA,OAAOgN,OAAP,KAAmB,QADnB,IAEAA,QAAQ7S,MAAR,GAAiB6F,gBAHnB,EAIE;AACAgN,sBAAaA,QAAQF,KAAR,CAAc,CAAd,EAAiB9M,gBAAjB,CAAb;AACD;AACD,cAAMvE,WAAW,OAAK6P,eAAL,CAAqBtR,WAArB,CAAjB;AACA,cAAMiT,kBAAkBxR,WACjBkD,SADiB,2BACcA,SADd,oCAEjBA,SAFiB,uBAAxB;AAGA,iBACE;AAAA;AAAA;AACE,qBAAO,kEAAAzD;AADT,eAEM,sEAFN;AAGE,2BAAa,mEAHf;AAIE,yBAAW+R,eAJb;AAKE,mBAAKjT,WALP;AAME,qBAAO,+DAAA/B,CAAQC,KAAR;AANT;AAQE;AAAA;AAAA,gBAAK,WAAcyG,SAAd,gCAAL;AACGqO;AADH,aARF;AAWGvR,uBAAW,IAAX,GACC;AACE,yBAAckD,SAAd,+BADF;AAEE,uBAAS,iBAAC0H,KAAD,EAAW;AAClB,uBAAKe,cAAL,CAAoBpN,WAApB,EAAiCqM,KAAjC;AACD;AAJH;AAZJ,WADF;AAqBD,SApCoB,CAArB;AAqCD;AACD,UAAIwG,mBAAJ,EAAyB;AACvBF,2BAAmB1R,IAAnB,CAAwB4R,mBAAxB;AACD;AACDF,yBAAmB1R,IAAnB,CACE;AAAA;AAAA;AACE,qBAAc0D,SAAd,gBAAkCA,SAAlC,oBADF;AAEE,eAAI;AAFN;AAIG,eAAKyB,eAAL;AAJH,OADF;;AASA,UAAI,wEAAAlH,CAAiBb,KAAjB,KAA2B2G,oBAA/B,EAAqD;AACnDwN,oBACE;AAAC,4DAAD;AAAA;AACE,qBAAS,OAAKlE,sBADhB;AAEE,uBAAU,IAFZ;AAGE,4BAAgBtJ;AAHlB;AAKG2N;AALH,SADF;AASD,OAVD,MAUO;AACLH,oBACE;AAAA;AAAA;AACGG;AADH,SADF;AAKD;AACF;AACD,WACE;AAAA;AAAA,QAAK,WAAW/N,SAAhB,EAA2B,KAAK,OAAK6C,cAArC;AACG,aAAKgI,qBAAL,EADH;AAEG+C;AAFH,KADF;AAMD,G;;;AAiIHjM,OAAOgM,WAAP,GAAqB,QAArB;;AAEA,yEAAAW,CAAS3M,MAAT;;AAEA,yDAAeA,MAAf,E;;;;;;;;;;;;;;;;;;;;;;;;ACx0CA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,kDAAA4M,CAAQZ,WAAR,GAAsB,SAAtB;;AAEA,IAAMa,sBAAsB;AAC1BC,cAAY;AACVC,YAAQ,CAAC,IAAD,EAAO,IAAP,CADE;AAEVC,YAAQ,CAAC,CAAD,EAAI,CAAJ,CAFE;AAGVC,cAAU;AACRC,eAAS,CADD;AAERC,eAAS;AAFD;AAHA,GADc;AAS1BC,WAAS;AACPL,YAAQ,CAAC,IAAD,EAAO,IAAP,CADD;AAEPC,YAAQ,CAAC,CAAD,EAAI,CAAC,CAAL,CAFD;AAGPC,cAAU;AACRC,eAAS,CADD;AAERC,eAAS;AAFD;AAHH;AATiB,CAA5B;;IAmBqBE,a;;;AAoBnB,yBAAYvV,KAAZ,EAAmB;AAAA;;AAAA,iDACjB,4BAAMA,KAAN,CADiB;;AAAA;;AAGjB,UAAKwV,mBAAL,GAA2B,8DAAAlR,QAAc,iBAAd,CAA3B;AACA,UAAKmR,cAAL,GAAsB,8DAAAnR,QAAc,YAAd,CAAtB;;AAEA,UAAKqE,KAAL,GAAa;AACX+M,qBAAe;AADJ,KAAb;AANiB;AASlB;;0BAEDlM,iB,gCAAoB;AAClB,SAAKmM,gBAAL;AACD,G;;0BAEDhM,kB,iCAAqB;AACnB,SAAKgM,gBAAL;AACD,G;;0BAiDDzK,M,qBAAS;AAAA;;AAAA,iBAC4B,KAAKlL,KADjC;AAAA,QACC+L,YADD,UACCA,YADD;AAAA,QACkB/L,KADlB;;AAAA,QAGLU,QAHK,GAYHV,KAZG,CAGLU,QAHK;AAAA,QAILkV,OAJK,GAYH5V,KAZG,CAIL4V,OAJK;AAAA,QAKL/M,UALK,GAYH7I,KAZG,CAKL6I,UALK;AAAA,QAMLmD,aANK,GAYHhM,KAZG,CAMLgM,aANK;AAAA,QAOL5I,QAPK,GAYHpD,KAZG,CAOLoD,QAPK;AAAA,QAQL+C,UARK,GAYHnG,KAZG,CAQLmG,UARK;AAAA,QASL8F,iBATK,GAYHjM,KAZG,CASLiM,iBATK;AAAA,QAULxE,aAVK,GAYHzH,KAZG,CAULyH,aAVK;AAAA,QAWLyE,wBAXK,GAYHlM,KAZG,CAWLkM,wBAXK;;AAaP,QAAM2J,oBAAoB,KAAKC,oBAAL,EAA1B;AACA,QAAMC,wDACH9J,iBADG,IACiB,CAAC,CAACA,iBADnB,kBAEA4J,iBAFA,WAEsBnV,WAAW,UAAX,GAAwB,QAF9C,KAE2D,CAF3D,kBAAN;AAIA,QAAIsV,qBAAJ;AACA,QAAI,KAAKhW,KAAL,CAAWiI,UAAf,EAA2B;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA+N,qBAAe,KAAKhW,KAAL,CAAWiI,UAAX,CAAsB;AACnC;AACA8D,kCAFmC;AAGnCrL,0BAHmC;AAInCmI,8BAJmC;AAKnC+M,wBALmC;AAMnCpJ,sBAAcxM,MAAMwM,YANe;AAOnCC,wBAAgBzM,MAAMyM,cAPa;AAQnCvF,uBAAelH,MAAMkH,aARc;AASnCjH,eAAOD,MAAMC;AATsB,OAAtB,CAAf;AAWD,KA5BD,MA4BO;AACL+V,qBAAe,KAAKC,kBAAL,CAAwB;AACrChU,mBAAWjC,MAAM0L,OADoB;AAErCK,kCAFqC;AAGrCrL,0BAHqC;AAIrCmI,8BAJqC;AAKrC+M;AALqC,OAAxB,CAAf;AAOD;AACD,QAAIM,mBAAJ;AACA,QAAI9S,QAAJ,EAAc;AACZ8S,mBAAa,EAAb;AACD,KAFD,MAEO,IAAI,mEAAAlV,CAAahB,KAAb,KAAuB,CAACmG,UAA5B,EAAwC;AAC7C+P,mBAAa,CAAC,OAAD,CAAb;AACD,KAFM,MAEA;AACLA,mBAAa,CAAC,MAAD,CAAb;AACD;AACD,QAAMC,0BAAkB1O,aAAlB,CAAN;AACA,QAAM2O,YAAYlK,2BAA2B,OAA3B,GAAqC,UAAvD;AACA,QAAI,KAAKvD,KAAL,CAAW+M,aAAf,EAA8B;AAC5BS,iBAAWC,SAAX,IAA2B,KAAKzN,KAAL,CAAW+M,aAAtC;AACD;;AAED,WACE;AAAC,wDAAD;AAAA,mBACM1V,KADN;AAEE,oBAAYoD,WAAW,EAAX,GAAgB,KAAKpD,KAAL,CAAWgI,UAFzC;AAGE,oBAAYkO,UAHd;AAIE,aAAK,KAAKT,cAJZ;AAKE,wBAAe,YALjB;AAME,2BAAmBV,mBANrB;AAOE,mBAAWc,iBAPb;AAQE,6BAAqB,KAAKQ,yBAAL,EARvB;AASE,8BAAsBrW,MAAMsM,uBAT9B;AAUE,eAAO0J,YAVT;AAWE,oBAAYhK,aAXd;AAYE,sBAAc4J,OAZhB;AAaE,2BAAmB5V,MAAMuM,iBAb3B;AAcE,wBAAgB,kDAAAK,CAAWmJ,cAAX,CAdlB;AAeE,oBAAYI;AAfd;AAiBGnW,YAAMyC;AAjBT,KADF;AAqBD,G;;;EAjLwC,6CAAAN,CAAMwC,S;;AAA5B4Q,a,CACZ3Q,S,GAAY;AACjBmH,gBAAc,kDAAAlH,CAAUgC,IADP;AAEjBK,iBAAe,kDAAArC,CAAUgC,IAFR;AAGjBqF,4BAA0B,kDAAArH,CAAUmB,IAHnB;AAIjBgG,iBAAe,kDAAAnH,CAAU6C,MAJR;AAKjBkO,WAAS,kDAAA/Q,CAAUmB,IALF;AAMjB5C,YAAU,kDAAAyB,CAAUmB,IANH;AAOjBG,cAAY,kDAAAtB,CAAUmB,IAPL;AAQjBiG,qBAAmB,kDAAApH,CAAUvB,MARZ;AASjB5C,YAAU,kDAAAmE,CAAUmB,IATH;AAUjB6C,cAAY,kDAAAhE,CAAUvB,MAVL;AAWjB2C,gBAAc,kDAAApB,CAAUqB,GAXP;AAYjBwF,WAAS,kDAAA7G,CAAUqB,GAZF;AAajBI,aAAW,kDAAAzB,CAAUvB,MAbJ;AAcjByS,kBAAgB,kDAAAlR,CAAUvB,MAdT;AAejBb,YAAU,kDAAAoC,CAAUqB,GAfH;AAgBjB8B,cAAY,kDAAAnD,CAAUa,OAAV,CAAkB,kDAAAb,CAAUvB,MAA5B;AAhBK,C;;;;;OAsCnBqS,gB,GAAmB,YAAM;AACvB,QAAM1L,QAAQ,iDAAAO,CAAS8L,WAAT,CAAqB,MAArB,EAA2BC,WAAzC;AACA,QAAItM,UAAU,OAAKtB,KAAL,CAAW+M,aAAzB,EAAwC;AACtC,aAAKnH,QAAL,CAAc,EAAEmH,eAAezL,KAAjB,EAAd;AACD;AACF,G;;OAEDoF,Y,GAAe,YAAM;AACnB,WAAO,OAAKmH,eAAL,IAAwB,OAAKA,eAAL,CAAqBC,OAApD;AACD,G;;OAEDzE,e,GAAkB,YAAM;AACtB,WAAO,OAAKuB,UAAL,CAAgBmD,eAAhB,EAAP;AACD,G;;OAEDT,kB,GAAqB,oBAAY;AAC/B,QAAMjW,QAAQ,OAAKA,KAAnB;AACA,WACE,4DAAC,8DAAD;AACE,WAAK,OAAKwV;AADZ,OAEMmB,QAFN;AAGE,iBAAW,OAAKb,oBAAL,EAHb;AAIE,oBAAc9V,MAAMwM,YAJtB;AAKE,sBAAgBxM,MAAMyM,cALxB;AAME,qBAAezM,MAAMkH,aANvB;AAOE,aAAOlH,MAAMC,KAPf;AAQE,qBAAeD,MAAMoM,aARvB;AASE,wBAAkBpM,MAAMqM,gBAT1B;AAUE,gCAA0BrM,MAAM+F,wBAVlC;AAWE,yBAAmB/F,MAAMmM;AAX3B,OADF;AAeD,G;;OAEDkK,yB,GAA4B,YAAM;AAChC,QAAMrW,QAAQ,OAAKA,KAAnB;AACA,QAAIwG,iBAAiBxG,MAAMwG,cAA3B;AACA,QAAI,CAACA,cAAD,IAAmBxG,MAAM0G,SAA7B,EAAwC;AACtCF,uBAAoB,OAAKsP,oBAAL,EAApB,SAAmD9V,MAAM0G,SAAzD;AACD;AACD,WAAOF,cAAP;AACD,G;;OAEDsP,oB,GAAuB,YAAM;AAC3B,WAAU,OAAK9V,KAAL,CAAWsG,SAArB;AACD,G;;;yDApFkBiP,a;;;AAoLrBA,cAAcrB,WAAd,GAA4B,eAA5B,C;;;;;;;;;;;;;;;;;;;;;;ACjNA;AACA;AACA;AACA;AACA;AACA;AACA;;IAEqB0C,Y;;;AAgBnB,wBAAY5W,KAAZ,EAAmB;AAAA;;AAAA,iDACjB,4BAAMA,KAAN,CADiB;;AAAA;;AAEjB,UAAK6W,cAAL,GAAsB7W,MAAM6I,UAA5B;AACA,UAAKiO,WAAL,GAAmB,8DAAAxS,QAAc,SAAd,CAAnB;AAHiB;AAIlB;;yBAEDkF,iB,gCAAoB;AAClB,SAAKuN,sBAAL;AACA,SAAKC,WAAL,GAAmB,KAAKhX,KAAL,CAAW4V,OAA9B;AACD,G;;yBAEDqB,qB,kCAAsB9J,S,EAAW;AAC/B,QAAI,CAACA,UAAUyI,OAAf,EAAwB;AACtB,WAAKoB,WAAL,GAAmB,KAAnB;AACD;AACD;AACA,WAAO7J,UAAUyI,OAAjB;AACD,G;;yBAEDjM,kB,+BAAmBuN,S,EAAW;AAC5B,QAAMlX,QAAQ,KAAKA,KAAnB;AACA,QAAI,CAACkX,UAAUtB,OAAX,IAAsB5V,MAAM4V,OAAhC,EAAyC;AACvC,WAAKmB,sBAAL;AACD;AACD,SAAKC,WAAL,GAAmBhX,MAAM4V,OAAzB;AACA,SAAKiB,cAAL,GAAsB7W,MAAM6I,UAA5B;AACD,G;;yBA0BDZ,U,yBAAa;AAAA;;AACX,QAAMjI,QAAQ,KAAKA,KAAnB;AADW,QAGTiC,SAHS,GAYPjC,KAZO,CAGTiC,SAHS;AAAA,QAIT8D,wBAJS,GAYP/F,KAZO,CAIT+F,wBAJS;AAAA,QAKT9F,KALS,GAYPD,KAZO,CAKTC,KALS;AAAA,QAMTqG,SANS,GAYPtG,KAZO,CAMTsG,SANS;AAAA,QAOT5F,QAPS,GAYPV,KAZO,CAOTU,QAPS;AAAA,QAQT8L,YARS,GAYPxM,KAZO,CAQTwM,YARS;AAAA,QAST3D,UATS,GAYP7I,KAZO,CAST6I,UATS;AAAA,QAUTwD,gBAVS,GAYPrM,KAZO,CAUTqM,gBAVS;AAAA,QAWTD,aAXS,GAYPpM,KAZO,CAWToM,aAXS;;AAaX,QAAInK,aAAaA,UAAUH,MAA3B,EAAmC;AACjC,UAAMqV,YAAY,EAAlB;AACA,UAAIzW,QAAJ,EAAc;AACZyW,kBAAU5P,UAAV,GAAuBvH,MAAMyM,cAA7B;AACA0K,kBAAUnQ,QAAV,GAAqBwF,YAArB;AACD,OAHD,MAGO;AACL2K,kBAAUC,OAAV,GAAoB5K,YAApB;AACD;;AAED,UAAMtK,eAAe,oEAAAF,CAAcC,SAAd,EAAyBhC,KAAzB,CAArB;AACA,UAAMoX,iBAAiB,EAAvB;;AAEA,UAAIC,kBAAkBrV,SAAtB;AACA,UAAIC,aAAaJ,MAAb,IAAuBuK,gBAA3B,EAA6C;AAC3C,YAAIrM,MAAM4V,OAAN,IAAiB,CAAC,KAAKoB,WAA3B,EAAwC;AACtCK,yBAAeE,SAAf,GAA2BrV,aAAa,CAAb,KAAmBmK,gBAA9C;AACD;AACD,YAAImL,aAAa,KAAjB;AACA;AACA;AACA,YAAMC,QAAQ,SAARA,KAAQ,OAAQ;AACpB,cACG,CAACD,UAAD,IAAetV,aAAakC,OAAb,CAAqB9B,KAAKpC,GAA1B,MAAmC,CAAC,CAApD,IACC,CAACsX,UAAD,IACC,CAACtV,aAAaJ,MADf,IAECuK,iBAAiBjI,OAAjB,CAAyB9B,KAAKpC,GAA9B,MAAuC,CAAC,CAJ5C,EAKE;AACAsX,yBAAa,IAAb;AACA,mBAAO,2DAAA9F,CAAapP,IAAb,EAAmB;AACxBqP,mBAAK,mBAAO;AACV,uBAAK+F,eAAL,GAAuB/F,IAAvB;AACD;AAHuB,aAAnB,CAAP;AAKD;AACD,iBAAOrP,IAAP;AACD,SAfD;;AAiBAgV,0BAAkBrV,UAAU4L,GAAV,CAAc,gBAAQ;AACtC,cAAIvL,KAAKnC,IAAL,CAAUoC,eAAd,EAA+B;AAC7B,gBAAME,WAAW,oEAAAxB,CAAQqB,KAAKtC,KAAL,CAAWyC,QAAnB,EAA6BoL,GAA7B,CAAiC4J,KAAjC,CAAjB;AACA,mBAAO,2DAAA/F,CAAapP,IAAb,EAAmB,EAAnB,EAAuBG,QAAvB,CAAP;AACD;AACD,iBAAOgV,MAAMnV,IAAN,CAAP;AACD,SANiB,CAAlB;AAOD,OA/BD,MA+BO;AACL;AACA;AACA;AACA,aAAKoV,eAAL,GAAuB,IAAvB;AACD;;AAED;AACA,UAAMlI,YAAYvP,SAASA,MAAMA,MAAM6B,MAAN,GAAe,CAArB,CAA3B;AACA,UAAI+G,eAAe,KAAKgO,cAApB,KAAuC,CAACrH,SAAD,IAAcA,cAAcpD,aAAnE,CAAJ,EAAuF;AACrFiL,uBAAeE,SAAf,GAA2B,EAA3B;AACD;AACD,aACE;AAAC,uDAAD;AAAA;AACE,eAAK,KAAKT,WADZ;AAEE,iBAAO,KAAK9W,KAAL,CAAWmM,iBAFpB;AAGE,8BAAoBpG,wBAHtB;AAIE,gBAAK;AAJP,WAKMsR,cALN;AAME,oBAAU3W;AANZ,WAOMyW,SAPN;AAQE,wBAAcjV,YARhB;AASE,qBAAcoE,SAAd;AATF;AAWGgR;AAXH,OADF;AAeD;AACD,WAAO,IAAP;AACD,G;;yBAEDpM,M,qBAAS;AACP,QAAMjD,aAAa,KAAKA,UAAL,EAAnB;AACA,WAAOA,aACL;AAAA;AAAA;AACE,eAAO,EAAEkN,UAAU,MAAZ,EADT;AAEE,iBAAS,KAAKnV,KAAL,CAAW+L,YAFtB;AAGE,qBAAa,kEAHf;AAIE,kBAAU,KAAK/L,KAAL,CAAWkH;AAJvB;AAMGe;AANH,KADK,GASH,IATJ;AAUD,G;;;EAxKuC,6CAAA9F,CAAMwC,S;;AAA3BiS,Y,CACZhS,S,GAAY;AACjBmB,4BAA0B,kDAAAlB,CAAUmB,IADnB;AAEjB/F,SAAO,kDAAA4E,CAAUqB,GAFA;AAGjBiG,qBAAmB,kDAAAtH,CAAU6C,MAHZ;AAIjBhH,YAAU,kDAAAmE,CAAUmB,IAJH;AAKjB+F,gBAAc,kDAAAlH,CAAUgC,IALP;AAMjBK,iBAAe,kDAAArC,CAAUgC,IANR;AAOjB8Q,kBAAgB,kDAAA9S,CAAUgC,IAPT;AAQjB2F,gBAAc,kDAAA3H,CAAUgC,IARP;AASjBP,aAAW,kDAAAzB,CAAUvB,MATJ;AAUjBrB,aAAW,kDAAA4C,CAAUqB,GAVJ;AAWjB2C,cAAY,kDAAAhE,CAAUvB,MAXL;AAYjBsS,WAAS,kDAAA/Q,CAAUmB;AAZF,C;;;;;OA2CnB+Q,sB,GAAyB,YAAM;AAC7B;AACA,QAAMa,gBAAgB,8DAAAtB,CAAY,OAAKoB,eAAjB,CAAtB;AACA,QAAM1X,QAAQ,OAAKA,KAAnB;;AAEA,QAAI4X,aAAJ,EAAmB;AACjB,UAAMC,qBAAqB;AACzBC,4BAAoB;AADK,OAA3B;AAGA,UACE,CAAC,CAAC9X,MAAMC,KAAP,IAAgBD,MAAMC,KAAN,CAAY6B,MAAZ,KAAuB,CAAxC,KACA9B,MAAMqM,gBAFR,EAGE;AACAwL,2BAAmBE,YAAnB,GAAkC,IAAlC;AACD;;AAEDC,MAAA,4DAAAA,CACEJ,aADF,EAEE,8DAAAtB,CAAY,OAAKG,OAAjB,CAFF,EAGEoB,kBAHF;AAKD;AACF,G;;;yDAlEkBjB,Y;;;AA2KrBA,aAAa1C,WAAb,GAA2B,cAA3B,C;;;;;;;;;;;;;;ACnLA;;IAEqB/L,Q;;;;;;;;;;EAAiB,6CAAAhG,CAAMwC,S;;AAAvBwD,Q,CACZ/H,gB,GAAmB,I;yDADP+H,Q","file":"common.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tvar parentJsonpFunction = window[\"webpackJsonp\"];\n \twindow[\"webpackJsonp\"] = function webpackJsonpCallback(chunkIds, moreModules, executeModules) {\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [], result;\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(chunkIds, moreModules, executeModules);\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n \t\tif(executeModules) {\n \t\t\tfor(i=0; i < executeModules.length; i++) {\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = executeModules[i]);\n \t\t\t}\n \t\t}\n \t\treturn result;\n \t};\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// objects to store loaded and loading chunks\n \tvar installedChunks = {\n \t\t16: 0\n \t};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// on error function for async loading\n \t__webpack_require__.oe = function(err) { console.error(err); throw err; };\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 74af53256775a4f60960","'use strict';\n\nmodule.exports = require('./src/');\n\n\n\n// WEBPACK FOOTER //\n// ./index.js","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./assets/index.less\n// module id = 1\n// module chunks = 16","import React from 'react';\n\nexport function toTitle(title) {\n  if (typeof title === 'string') {\n    return title;\n  }\n  return null;\n}\n\nexport function getValuePropValue(child) {\n  if (!child) {\n    return null;\n  }\n\n  const props = child.props;\n  if ('value' in props) {\n    return props.value;\n  }\n  if (child.key) {\n    return child.key;\n  }\n  if (child.type && child.type.isSelectOptGroup && props.label) {\n    return props.label;\n  }\n  throw new Error(\n    `Need at least a key or a value or a label (only for OptGroup) for ${child}`\n  );\n}\n\nexport function getPropValue(child, prop) {\n  if (prop === 'value') {\n    return getValuePropValue(child);\n  }\n  return child.props[prop];\n}\n\nexport function isMultiple(props) {\n  return props.multiple;\n}\n\nexport function isCombobox(props) {\n  return props.combobox;\n}\n\nexport function isMultipleOrTags(props) {\n  return props.multiple || props.tags;\n}\n\nexport function isMultipleOrTagsOrCombobox(props) {\n  return isMultipleOrTags(props) || isCombobox(props);\n}\n\nexport function isSingleMode(props) {\n  return !isMultipleOrTagsOrCombobox(props);\n}\n\nexport function toArray(value) {\n  let ret = value;\n  if (value === undefined) {\n    ret = [];\n  } else if (!Array.isArray(value)) {\n    ret = [value];\n  }\n  return ret;\n}\n\nexport function getMapKey(value) {\n  return `${typeof value}-${value}`;\n}\n\nexport function preventDefaultEvent(e) {\n  e.preventDefault();\n}\n\nexport function findIndexInValueBySingleValue(value, singleValue) {\n  let index = -1;\n  for (let i = 0; i < value.length; i++) {\n    if (value[i] === singleValue) {\n      index = i;\n      break;\n    }\n  }\n  return index;\n}\n\nexport function getLabelFromPropsValue(value, key) {\n  let label;\n  value = toArray(value);\n  for (let i = 0; i < value.length; i++) {\n    if (value[i].key === key) {\n      label = value[i].label;\n      break;\n    }\n  }\n  return label;\n}\n\nexport function getSelectKeys(menuItems, value) {\n  if (value === null || value === undefined) {\n    return [];\n  }\n  let selectedKeys = [];\n  React.Children.forEach(menuItems, item => {\n    if (item.type.isMenuItemGroup) {\n      selectedKeys = selectedKeys.concat(\n        getSelectKeys(item.props.children, value)\n      );\n    } else {\n      const itemValue = getValuePropValue(item);\n      const itemKey = item.key;\n      if (findIndexInValueBySingleValue(value, itemValue) !== -1 && itemKey) {\n        selectedKeys.push(itemKey);\n      }\n    }\n  });\n  return selectedKeys;\n}\n\nexport const UNSELECTABLE_STYLE = {\n  userSelect: 'none',\n  WebkitUserSelect: 'none',\n};\n\nexport const UNSELECTABLE_ATTRIBUTE = {\n  unselectable: 'on',\n};\n\nexport function findFirstMenuItem(children) {\n  for (let i = 0; i < children.length; i++) {\n    const child = children[i];\n    if (child.type.isMenuItemGroup) {\n      const found = findFirstMenuItem(child.props.children);\n      if (found) {\n        return found;\n      }\n    } else if (!child.props.disabled) {\n      return child;\n    }\n  }\n  return null;\n}\n\nexport function includesSeparators(string, separators) {\n  for (let i = 0; i < separators.length; ++i) {\n    if (string.lastIndexOf(separators[i]) > 0) {\n      return true;\n    }\n  }\n  return false;\n}\n\nexport function splitBySeparators(string, separators) {\n  const reg = new RegExp(`[${separators.join()}]`);\n  return string.split(reg).filter(token => token);\n}\n\nexport function defaultFilterFn(input, child) {\n  if (child.props.disabled) {\n    return false;\n  }\n  const value = toArray(getPropValue(child, this.props.optionFilterProp)).join('');\n  return (\n    value.toLowerCase().indexOf(input.toLowerCase()) > -1\n  );\n}\n\nexport function validateOptionValue(value, props) {\n  if (isSingleMode(props) || isMultiple(props)) {\n    return;\n  }\n  if (typeof value !== 'string') {\n    throw new Error(\n      `Invalid \\`value\\` of type \\`${typeof value}\\` supplied to Option, ` +\n      `expected \\`string\\` when \\`tags/combobox\\` is \\`true\\`.`\n    );\n  }\n}\n\nexport function saveRef(instance, name) {\n  return (node) => {\n    instance[name] = node;\n  };\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/util.js","import React from 'react';\nimport PropTypes from 'prop-types';\n\nexport default class Option extends React.Component {\n  static propTypes = {\n    value: PropTypes.oneOfType([\n      PropTypes.string,\n      PropTypes.number,\n    ]),\n  };\n\n  static isSelectOption = true;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/Option.jsx","import PropTypes from 'prop-types';\n\nfunction valueType(props, propName, componentName) {\n  const basicType = PropTypes.oneOfType([\n    PropTypes.string,\n    PropTypes.number,\n  ]);\n\n  const labelInValueShape = PropTypes.shape({\n    key: basicType.isRequired,\n    label: PropTypes.node,\n  });\n  if (props.labelInValue) {\n    const validate = PropTypes.oneOfType([\n      PropTypes.arrayOf(labelInValueShape),\n      labelInValueShape,\n    ]);\n    const error = validate(...arguments);\n    if (error) {\n      return new Error(\n        `Invalid prop \\`${propName}\\` supplied to \\`${componentName}\\`, ` +\n          `when you set \\`labelInValue\\` to \\`true\\`, \\`${propName}\\` should in ` +\n          `shape of \\`{ key: string | number, label?: ReactNode }\\`.`\n      );\n    }\n  } else if (\n    (props.mode === 'multiple' || props.mode === 'tags' || props.multiple || props.tags)\n    && props[propName] === ''\n  ) {\n    return new Error(\n      `Invalid prop \\`${propName}\\` of type \\`string\\` supplied to \\`${componentName}\\`, ` +\n        `expected \\`array\\` when \\`multiple\\` or \\`tags\\` is \\`true\\`.`\n    );\n  } else {\n    const validate = PropTypes.oneOfType([\n      PropTypes.arrayOf(basicType),\n      basicType,\n    ]);\n    return validate(...arguments);\n  }\n}\n\nexport const SelectPropTypes = {\n  defaultActiveFirstOption: PropTypes.bool,\n  multiple: PropTypes.bool,\n  filterOption: PropTypes.any,\n  children: PropTypes.any,\n  showSearch: PropTypes.bool,\n  disabled: PropTypes.bool,\n  allowClear: PropTypes.bool,\n  showArrow: PropTypes.bool,\n  tags: PropTypes.bool,\n  prefixCls: PropTypes.string,\n  className: PropTypes.string,\n  transitionName: PropTypes.string,\n  optionLabelProp: PropTypes.string,\n  optionFilterProp: PropTypes.string,\n  animation: PropTypes.string,\n  choiceTransitionName: PropTypes.string,\n  onChange: PropTypes.func,\n  onBlur: PropTypes.func,\n  onFocus: PropTypes.func,\n  onSelect: PropTypes.func,\n  onSearch: PropTypes.func,\n  onPopupScroll: PropTypes.func,\n  onMouseEnter: PropTypes.func,\n  onMouseLeave: PropTypes.func,\n  onInputKeyDown: PropTypes.func,\n  placeholder: PropTypes.any,\n  onDeselect: PropTypes.func,\n  labelInValue: PropTypes.bool,\n  value: valueType,\n  defaultValue: valueType,\n  dropdownStyle: PropTypes.object,\n  maxTagTextLength: PropTypes.number,\n  maxTagCount: PropTypes.number,\n  maxTagPlaceholder: PropTypes.oneOfType([\n    PropTypes.node,\n    PropTypes.func,\n  ]),\n  tokenSeparators: PropTypes.arrayOf(PropTypes.string),\n  getInputElement: PropTypes.func,\n  showAction: PropTypes.arrayOf(PropTypes.string),\n  renderMenu: PropTypes.func,\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/PropTypes.js","import Select from './Select';\nimport Option from './Option';\nimport { SelectPropTypes } from './PropTypes';\nimport OptGroup from './OptGroup';\nSelect.Option = Option;\nSelect.OptGroup = OptGroup;\nexport { Option, OptGroup, SelectPropTypes };\nexport default Select;\n\n\n\n// WEBPACK FOOTER //\n// ./src/index.js","/* eslint func-names: 1 */\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport { polyfill } from 'react-lifecycles-compat';\nimport KeyCode from 'rc-util/lib/KeyCode';\nimport childrenToArray from 'rc-util/lib/Children/toArray';\nimport classnames from 'classnames';\nimport Animate from 'rc-animate';\nimport classes from 'component-classes';\nimport { Item as MenuItem, ItemGroup as MenuItemGroup } from 'rc-menu';\nimport warning from 'warning';\nimport Option from './Option';\n\nimport {\n  getPropValue,\n  getValuePropValue,\n  isCombobox,\n  isMultipleOrTags,\n  isMultipleOrTagsOrCombobox,\n  isSingleMode,\n  toArray,\n  getMapKey,\n  findIndexInValueBySingleValue,\n  getLabelFromPropsValue,\n  UNSELECTABLE_ATTRIBUTE,\n  UNSELECTABLE_STYLE,\n  preventDefaultEvent,\n  findFirstMenuItem,\n  includesSeparators,\n  splitBySeparators,\n  defaultFilterFn,\n  validateOptionValue,\n  saveRef,\n  toTitle,\n} from './util';\nimport SelectTrigger from './SelectTrigger';\nimport { SelectPropTypes } from './PropTypes';\n\nfunction noop() {}\n\nfunction chaining(...fns) {\n  return function (...args) { // eslint-disable-line\n    // eslint-disable-line\n    for (let i = 0; i < fns.length; i++) {\n      if (fns[i] && typeof fns[i] === 'function') {\n        fns[i].apply(this, args);\n      }\n    }\n  };\n}\n\nclass Select extends React.Component {\n  static propTypes = SelectPropTypes;\n\n  static defaultProps = {\n    prefixCls: 'rc-select',\n    defaultOpen: false,\n    labelInValue: false,\n    defaultActiveFirstOption: true,\n    showSearch: true,\n    allowClear: false,\n    placeholder: '',\n    onChange: noop,\n    onFocus: noop,\n    onBlur: noop,\n    onSelect: noop,\n    onSearch: noop,\n    onDeselect: noop,\n    onInputKeyDown: noop,\n    showArrow: true,\n    dropdownMatchSelectWidth: true,\n    dropdownStyle: {},\n    dropdownMenuStyle: {},\n    optionFilterProp: 'value',\n    optionLabelProp: 'value',\n    notFoundContent: 'Not Found',\n    backfill: false,\n    showAction: ['click'],\n    tokenSeparators: [],\n    autoClearSearchValue: true,\n  };\n\n  constructor(props) {\n    super(props);\n    const optionsInfo = Select.getOptionsInfoFromProps(props);\n    this.state = {\n      value: Select.getValueFromProps(props, true), // true: use default value\n      inputValue: props.combobox ? Select.getInputValueForCombobox(\n        props,\n        optionsInfo,\n        true, // use default value\n      ) : '',\n      open: props.defaultOpen,\n      optionsInfo,\n      // a flag for aviod redundant getOptionsInfoFromProps call\n      skipBuildOptionsInfo: true,\n    };\n\n    this.saveInputRef = saveRef(this, 'inputRef');\n    this.saveInputMirrorRef = saveRef(this, 'inputMirrorRef');\n    this.saveTopCtrlRef = saveRef(this, 'topCtrlRef');\n    this.saveSelectTriggerRef = saveRef(this, 'selectTriggerRef');\n    this.saveRootRef = saveRef(this, 'rootRef');\n    this.saveSelectionRef = saveRef(this, 'selectionRef');\n  }\n\n  componentDidMount() {\n    if (this.props.autoFocus) {\n      this.focus();\n    }\n  }\n\n  componentDidUpdate() {\n    if (isMultipleOrTags(this.props)) {\n      const inputNode = this.getInputDOMNode();\n      const mirrorNode = this.getInputMirrorDOMNode();\n      if (inputNode.value) {\n        inputNode.style.width = '';\n        inputNode.style.width = `${mirrorNode.clientWidth}px`;\n      } else {\n        inputNode.style.width = '';\n      }\n    }\n    this.forcePopupAlign();\n  }\n\n  componentWillUnmount() {\n    this.clearFocusTime();\n    this.clearBlurTime();\n    if (this.dropdownContainer) {\n      ReactDOM.unmountComponentAtNode(this.dropdownContainer);\n      document.body.removeChild(this.dropdownContainer);\n      this.dropdownContainer = null;\n    }\n  }\n\n  onInputChange = event => {\n    const { tokenSeparators } = this.props;\n    const val = event.target.value;\n    if (\n      isMultipleOrTags(this.props) &&\n      tokenSeparators.length &&\n      includesSeparators(val, tokenSeparators)\n    ) {\n      const nextValue = this.getValueByInput(val);\n      if (nextValue !== undefined) {\n        this.fireChange(nextValue);\n      }\n      this.setOpenState(false, true);\n      this.setInputValue('', false);\n      return;\n    }\n    this.setInputValue(val);\n    this.setState({\n      open: true,\n    });\n    if (isCombobox(this.props)) {\n      this.fireChange([val]);\n    }\n  };\n\n  onDropdownVisibleChange = open => {\n    if (open && !this._focused) {\n      this.clearBlurTime();\n      this.timeoutFocus();\n      this._focused = true;\n      this.updateFocusClassName();\n    }\n    this.setOpenState(open);\n  };\n\n  // combobox ignore\n  onKeyDown = event => {\n    const props = this.props;\n    if (props.disabled) {\n      return;\n    }\n    const keyCode = event.keyCode;\n    if (this.state.open && !this.getInputDOMNode()) {\n      this.onInputKeyDown(event);\n    } else if (keyCode === KeyCode.ENTER || keyCode === KeyCode.DOWN) {\n      this.setOpenState(true);\n      event.preventDefault();\n    }\n  };\n\n  onInputKeyDown = event => {\n    const props = this.props;\n    if (props.disabled) {\n      return;\n    }\n    const state = this.state;\n    const keyCode = event.keyCode;\n    if (\n      isMultipleOrTags(props) &&\n      !event.target.value &&\n      keyCode === KeyCode.BACKSPACE\n    ) {\n      event.preventDefault();\n      const { value } = state;\n      if (value.length) {\n        this.removeSelected(value[value.length - 1]);\n      }\n      return;\n    }\n    if (keyCode === KeyCode.DOWN) {\n      if (!state.open) {\n        this.openIfHasChildren();\n        event.preventDefault();\n        event.stopPropagation();\n        return;\n      }\n    } else if (keyCode === KeyCode.ENTER && state.open) {\n      // Aviod trigger form submit when select item\n      // https://github.com/ant-design/ant-design/issues/10861\n      event.preventDefault();\n    } else if (keyCode === KeyCode.ESC) {\n      if (state.open) {\n        this.setOpenState(false);\n        event.preventDefault();\n        event.stopPropagation();\n      }\n      return;\n    }\n\n    if (state.open) {\n      const menu = this.selectTriggerRef.getInnerMenu();\n      if (menu && menu.onKeyDown(event, this.handleBackfill)) {\n        event.preventDefault();\n        event.stopPropagation();\n      }\n    }\n  };\n\n  onMenuSelect = ({ item }) => {\n    if (!item) {\n      return;\n    }\n    let value = this.state.value;\n    const props = this.props;\n    const selectedValue = getValuePropValue(item);\n    const lastValue = value[value.length - 1];\n    this.fireSelect(selectedValue);\n    if (isMultipleOrTags(props)) {\n      if (findIndexInValueBySingleValue(value, selectedValue) !== -1) {\n        return;\n      }\n      value = value.concat([selectedValue]);\n    } else {\n      if (lastValue && lastValue === selectedValue && selectedValue !== this.state.backfillValue) {\n        this.setOpenState(false, true);\n        return;\n      }\n      value = [selectedValue];\n      this.setOpenState(false, true);\n    }\n    this.fireChange(value);\n    let inputValue;\n    if (isCombobox(props)) {\n      inputValue = getPropValue(item, props.optionLabelProp);\n    } else {\n      inputValue = '';\n    }\n    if (props.autoClearSearchValue) {\n      this.setInputValue(inputValue, false);\n    }\n  };\n\n  onMenuDeselect = ({ item, domEvent }) => {\n    if (domEvent.type === 'click') {\n      this.removeSelected(getValuePropValue(item));\n    }\n    const { props } = this;\n    if (props.autoClearSearchValue) {\n      this.setInputValue('', false);\n    }\n  };\n\n  onArrowClick = e => {\n    e.stopPropagation();\n    e.preventDefault();\n    if (!this.props.disabled) {\n      this.setOpenState(!this.state.open, !this.state.open);\n    }\n  };\n\n  onPlaceholderClick = () => {\n    if (this.getInputDOMNode()) {\n      this.getInputDOMNode().focus();\n    }\n  };\n\n  onOuterFocus = (e) => {\n    if (this.props.disabled) {\n      e.preventDefault();\n      return;\n    }\n    this.clearBlurTime();\n    if (\n      !isMultipleOrTagsOrCombobox(this.props) &&\n      e.target === this.getInputDOMNode()\n    ) {\n      return;\n    }\n    if (this._focused) {\n      return;\n    }\n    this._focused = true;\n    this.updateFocusClassName();\n    this.timeoutFocus();\n  };\n\n  onPopupFocus = () => {\n    // fix ie scrollbar, focus element again\n    this.maybeFocus(true, true);\n  };\n\n  onOuterBlur = (e) => {\n    if (this.props.disabled) {\n      e.preventDefault();\n      return;\n    }\n    this.blurTimer = setTimeout(() => {\n      this._focused = false;\n      this.updateFocusClassName();\n      const props = this.props;\n      let { value } = this.state;\n      const { inputValue } = this.state;\n      if (\n        isSingleMode(props) &&\n        props.showSearch &&\n        inputValue &&\n        props.defaultActiveFirstOption\n      ) {\n        const options = this._options || [];\n        if (options.length) {\n          const firstOption = findFirstMenuItem(options);\n          if (firstOption) {\n            value = [getValuePropValue(firstOption)];\n            this.fireChange(value);\n          }\n        }\n      } else if (isMultipleOrTags(props) && inputValue) {\n        // why not use setState?\n        this.state.inputValue = this.getInputDOMNode().value = '';\n\n        value = this.getValueByInput(inputValue);\n        if (value !== undefined) {\n          this.fireChange(value);\n        }\n      }\n      props.onBlur(this.getVLForOnChange(value));\n      this.setOpenState(false);\n    }, 10);\n  };\n\n  onClearSelection = event => {\n    const props = this.props;\n    const state = this.state;\n    if (props.disabled) {\n      return;\n    }\n    const { inputValue, value } = state;\n    event.stopPropagation();\n    if (inputValue || value.length) {\n      if (value.length) {\n        this.fireChange([]);\n      }\n      this.setOpenState(false, true);\n      if (inputValue) {\n        this.setInputValue('');\n      }\n    }\n  };\n\n  onChoiceAnimationLeave = () => {\n    this.forcePopupAlign();\n  };\n\n  static getDerivedStateFromProps = (nextProps, prevState) => {\n    const optionsInfo = prevState.skipBuildOptionsInfo\n                        ? prevState.optionsInfo\n                        : Select.getOptionsInfoFromProps(nextProps, prevState);\n\n    const newState = {\n      optionsInfo,\n      skipBuildOptionsInfo: false,\n    };\n\n    if ('open' in nextProps) {\n      newState.open = nextProps.open;\n    }\n\n    if ('value' in nextProps) {\n      const value = Select.getValueFromProps(nextProps);\n      newState.value = value;\n      if (nextProps.combobox) {\n        newState.inputValue = Select.getInputValueForCombobox(\n          nextProps,\n          optionsInfo,\n        );\n      }\n    }\n    return newState;\n  };\n\n  static getOptionsFromChildren = (children, options = []) => {\n    React.Children.forEach(children, child => {\n      if (!child) {\n        return;\n      }\n      if (child.type.isSelectOptGroup) {\n        Select.getOptionsFromChildren(child.props.children, options);\n      } else {\n        options.push(child);\n      }\n    });\n    return options;\n  };\n\n  static getInputValueForCombobox = (props, optionsInfo, useDefaultValue) => {\n    let value = [];\n    if ('value' in props && !useDefaultValue) {\n      value = toArray(props.value);\n    }\n    if ('defaultValue' in props && useDefaultValue) {\n      value = toArray(props.defaultValue);\n    }\n    if (value.length) {\n      value = value[0];\n    } else {\n      return '';\n    }\n    let label = value;\n    if (props.labelInValue) {\n      label = value.label;\n    } else if (optionsInfo[getMapKey(value)]) {\n      label = optionsInfo[getMapKey(value)].label;\n    }\n    if (label === undefined) {\n      label = '';\n    }\n    return label;\n  }\n\n  static getLabelFromOption = (props, option) => {\n    return getPropValue(option, props.optionLabelProp);\n  };\n\n  static getOptionsInfoFromProps = (props, preState) => {\n    const options = Select.getOptionsFromChildren(props.children);\n    const optionsInfo = {};\n    options.forEach((option) => {\n      const singleValue = getValuePropValue(option);\n      optionsInfo[getMapKey(singleValue)] = {\n        option,\n        value: singleValue,\n        label: Select.getLabelFromOption(props, option),\n        title: option.props.title,\n      };\n    });\n    if (preState) {\n      // keep option info in pre state value.\n      const oldOptionsInfo = preState.optionsInfo;\n      const value = preState.value;\n      value.forEach(v => {\n        const key = getMapKey(v);\n        if (!optionsInfo[key] && oldOptionsInfo[key] !== undefined) {\n          optionsInfo[key] = oldOptionsInfo[key];\n        }\n      });\n    }\n    return optionsInfo;\n  }\n\n  static getValueFromProps = (props, useDefaultValue) => {\n    let value = [];\n    if ('value' in props && !useDefaultValue) {\n      value = toArray(props.value);\n    }\n    if ('defaultValue' in props && useDefaultValue) {\n      value = toArray(props.defaultValue);\n    }\n    if (props.labelInValue) {\n      value = value.map((v) => {\n        return v.key;\n      });\n    }\n    return value;\n  }\n\n  getOptionInfoBySingleValue = (value, optionsInfo) => {\n    let info;\n    optionsInfo = optionsInfo || this.state.optionsInfo;\n    if (optionsInfo[getMapKey(value)]) {\n      info = optionsInfo[getMapKey(value)];\n    }\n    if (info) {\n      return info;\n    }\n    let defaultLabel = value;\n    if (this.props.labelInValue) {\n      const label = getLabelFromPropsValue(this.props.value, value);\n      if (label !== undefined) {\n        defaultLabel = label;\n      }\n    }\n    const defaultInfo = {\n      option: <Option value={value} key={value}>{value}</Option>,\n      value,\n      label: defaultLabel,\n    };\n    return defaultInfo;\n  }\n\n  getOptionBySingleValue = value => {\n    const { option } = this.getOptionInfoBySingleValue(value);\n    return option;\n  }\n\n  getOptionsBySingleValue = values => {\n    return values.map(value => {\n      return this.getOptionBySingleValue(value);\n    });\n  }\n\n  getValueByLabel = (label) => {\n    if (label === undefined) {\n      return null;\n    }\n    let value = null;\n    Object.keys(this.state.optionsInfo).forEach(key => {\n      const info = this.state.optionsInfo[key];\n      if (toArray(info.label).join('') === label) {\n        value = info.value;\n      }\n    });\n    return value;\n  };\n\n  getVLBySingleValue = value => {\n    if (this.props.labelInValue) {\n      return {\n        key: value,\n        label: this.getLabelBySingleValue(value),\n      };\n    }\n    return value;\n  }\n\n  getVLForOnChange = vls_ => {\n    let vls = vls_;\n    if (vls !== undefined) {\n      if (!this.props.labelInValue) {\n        vls = vls.map(v => v);\n      } else {\n        vls = vls.map(vl => ({\n          key: vl,\n          label: this.getLabelBySingleValue(vl),\n        }));\n      }\n      return isMultipleOrTags(this.props) ? vls : vls[0];\n    }\n    return vls;\n  };\n\n  getLabelBySingleValue = (value, optionsInfo) => {\n    const { label } = this.getOptionInfoBySingleValue(value, optionsInfo);\n    return label;\n  };\n\n  getDropdownContainer = () => {\n    if (!this.dropdownContainer) {\n      this.dropdownContainer = document.createElement('div');\n      document.body.appendChild(this.dropdownContainer);\n    }\n    return this.dropdownContainer;\n  };\n\n  getPlaceholderElement = () => {\n    const { props, state } = this;\n    let hidden = false;\n    if (state.inputValue) {\n      hidden = true;\n    }\n    if (state.value.length) {\n      hidden = true;\n    }\n    if (isCombobox(props) && state.value.length === 1 && !state.value[0]) {\n      hidden = false;\n    }\n    const placeholder = props.placeholder;\n    if (placeholder) {\n      return (\n        <div\n          onMouseDown={preventDefaultEvent}\n          style={{\n            display: hidden ? 'none' : 'block',\n            ...UNSELECTABLE_STYLE,\n          }}\n          {...UNSELECTABLE_ATTRIBUTE}\n          onClick={this.onPlaceholderClick}\n          className={`${props.prefixCls}-selection__placeholder`}\n        >\n          {placeholder}\n        </div>\n      );\n    }\n    return null;\n  };\n\n  getInputElement = () => {\n    const props = this.props;\n    const inputElement = props.getInputElement\n      ? props.getInputElement()\n      : <input id={props.id} autoComplete=\"off\" />;\n    const inputCls = classnames(inputElement.props.className, {\n      [`${props.prefixCls}-search__field`]: true,\n    });\n    // https://github.com/ant-design/ant-design/issues/4992#issuecomment-281542159\n    // Add space to the end of the inputValue as the width measurement tolerance\n    return (\n      <div className={`${props.prefixCls}-search__field__wrap`}>\n        {React.cloneElement(inputElement, {\n          ref: this.saveInputRef,\n          onChange: this.onInputChange,\n          onKeyDown: chaining(\n            this.onInputKeyDown,\n            inputElement.props.onKeyDown,\n            this.props.onInputKeyDown\n          ),\n          value: this.state.inputValue,\n          disabled: props.disabled,\n          className: inputCls,\n        })}\n        <span\n          ref={this.saveInputMirrorRef}\n          className={`${props.prefixCls}-search__field__mirror`}\n        >\n          {this.state.inputValue}&nbsp;\n        </span>\n      </div>\n    );\n  };\n\n  getInputDOMNode = () => {\n    return this.topCtrlRef\n      ? this.topCtrlRef.querySelector('input,textarea,div[contentEditable]')\n      : this.inputRef;\n  };\n\n  getInputMirrorDOMNode = () => {\n    return this.inputMirrorRef;\n  };\n\n  getPopupDOMNode = () => {\n    return this.selectTriggerRef.getPopupDOMNode();\n  };\n\n  getPopupMenuComponent = () => {\n    return this.selectTriggerRef.getInnerMenu();\n  };\n\n  setOpenState = (open, needFocus) => {\n    const { props, state } = this;\n    if (state.open === open) {\n      this.maybeFocus(open, needFocus);\n      return;\n    }\n    const nextState = {\n      open,\n      backfillValue: undefined,\n    };\n    // clear search input value when open is false in singleMode.\n    if (!open && isSingleMode(props) && props.showSearch) {\n      this.setInputValue('', false);\n    }\n    if (!open) {\n      this.maybeFocus(open, needFocus);\n    }\n    this.setState(nextState, () => {\n      if (open) {\n        this.maybeFocus(open, needFocus);\n      }\n    });\n  };\n\n  setInputValue = (inputValue, fireSearch = true) => {\n    if (inputValue !== this.state.inputValue) {\n      this.setState({\n        inputValue,\n      }, this.forcePopupAlign);\n      if (fireSearch) {\n        this.props.onSearch(inputValue);\n      }\n    }\n  };\n\n  getValueByInput = string => {\n    const { multiple, tokenSeparators } = this.props;\n    let nextValue = this.state.value;\n    let hasNewValue = false;\n    splitBySeparators(string, tokenSeparators).forEach(label => {\n      const selectedValue = [label];\n      if (multiple) {\n        const value = this.getValueByLabel(label);\n        if (value && findIndexInValueBySingleValue(nextValue, value) === -1) {\n          nextValue = nextValue.concat(value);\n          hasNewValue = true;\n          this.fireSelect(value);\n        }\n      } else {\n        // tag\n        if (findIndexInValueBySingleValue(nextValue, label) === -1) {\n          nextValue = nextValue.concat(selectedValue);\n          hasNewValue = true;\n          this.fireSelect(label);\n        }\n      }\n    });\n    return hasNewValue ? nextValue : undefined;\n  };\n\n  getRealOpenState = () => {\n    let open = this.state.open;\n    const options = this._options || [];\n    if (isMultipleOrTagsOrCombobox(this.props) || !this.props.showSearch) {\n      if (open && !options.length) {\n        open = false;\n      }\n    }\n    return open;\n  }\n\n  focus() {\n    if (isSingleMode(this.props)) {\n      this.selectionRef.focus();\n    } else {\n      this.getInputDOMNode().focus();\n    }\n  }\n\n  blur() {\n    if (isSingleMode(this.props)) {\n      this.selectionRef.blur();\n    } else {\n      this.getInputDOMNode().blur();\n    }\n  }\n\n  handleBackfill = (item) => {\n    if (!this.props.backfill || !(isSingleMode(this.props) || isCombobox(this.props))) {\n      return;\n    }\n\n    const key = getValuePropValue(item);\n\n    if (isCombobox(this.props)) {\n      this.setInputValue(key, false);\n    }\n\n    this.setState({\n      value: [key],\n      backfillValue: key,\n    });\n  };\n\n  filterOption = (input, child, defaultFilter = defaultFilterFn) => {\n    const { value } = this.state;\n    const lastValue = value[value.length - 1];\n    if (!input || (lastValue && lastValue === this.state.backfillValue)) {\n      return true;\n    }\n    let filterFn = this.props.filterOption;\n    if ('filterOption' in this.props) {\n      if (this.props.filterOption === true) {\n        filterFn = defaultFilter;\n      }\n    } else {\n      filterFn = defaultFilter;\n    }\n\n    if (!filterFn) {\n      return true;\n    } else if (typeof filterFn === 'function') {\n      return filterFn.call(this, input, child);\n    } else if (child.props.disabled) {\n      return false;\n    }\n    return true;\n  };\n\n  timeoutFocus = () => {\n    if (this.focusTimer) {\n      this.clearFocusTime();\n    }\n    this.focusTimer = setTimeout(() => {\n      this.props.onFocus();\n    }, 10);\n  };\n\n  clearFocusTime = () => {\n    if (this.focusTimer) {\n      clearTimeout(this.focusTimer);\n      this.focusTimer = null;\n    }\n  };\n\n  clearBlurTime = () => {\n    if (this.blurTimer) {\n      clearTimeout(this.blurTimer);\n      this.blurTimer = null;\n    }\n  };\n\n  updateFocusClassName = () => {\n    const { rootRef, props } = this;\n    // avoid setState and its side effect\n    if (this._focused) {\n      classes(rootRef).add(`${props.prefixCls}-focused`);\n    } else {\n      classes(rootRef).remove(`${props.prefixCls}-focused`);\n    }\n  };\n\n  maybeFocus = (open, needFocus) => {\n    if (needFocus || open) {\n      const input = this.getInputDOMNode();\n      const { activeElement } = document;\n      if (input && (open || isMultipleOrTagsOrCombobox(this.props))) {\n        if (activeElement !== input) {\n          input.focus();\n          this._focused = true;\n        }\n      } else {\n        if (activeElement !== this.selectionRef) {\n          this.selectionRef.focus();\n          this._focused = true;\n        }\n      }\n    }\n  };\n\n  removeSelected = (selectedKey, e) => {\n    const props = this.props;\n    if (props.disabled || this.isChildDisabled(selectedKey)) {\n      return;\n    }\n\n    // Do not trigger Trigger popup\n    if (e && e.stopPropagation) {\n      e.stopPropagation();\n    }\n\n    const value = this.state.value.filter(singleValue => {\n      return singleValue !== selectedKey;\n    });\n    const canMultiple = isMultipleOrTags(props);\n\n    if (canMultiple) {\n      let event = selectedKey;\n      if (props.labelInValue) {\n        event = {\n          key: selectedKey,\n          label: this.getLabelBySingleValue(selectedKey),\n        };\n      }\n      props.onDeselect(event, this.getOptionBySingleValue(selectedKey));\n    }\n    this.fireChange(value);\n  };\n\n  openIfHasChildren = () => {\n    const props = this.props;\n    if (React.Children.count(props.children) || isSingleMode(props)) {\n      this.setOpenState(true);\n    }\n  };\n\n  fireSelect = value => {\n    this.props.onSelect(this.getVLBySingleValue(value), this.getOptionBySingleValue(value));\n  };\n\n  fireChange = value => {\n    const props = this.props;\n    if (!('value' in props)) {\n      this.setState({\n        value,\n      }, this.forcePopupAlign);\n    }\n    const vls = this.getVLForOnChange(value);\n    const options = this.getOptionsBySingleValue(value);\n    props.onChange(vls, isMultipleOrTags(this.props) ? options : options[0]);\n  };\n\n  isChildDisabled = key => {\n    return childrenToArray(this.props.children).some(child => {\n      const childValue = getValuePropValue(child);\n      return childValue === key && child.props && child.props.disabled;\n    });\n  };\n\n  forcePopupAlign = () => {\n    this.selectTriggerRef.triggerRef.forcePopupAlign();\n  };\n\n  renderFilterOptions = () => {\n    const { inputValue } = this.state;\n    const { children, tags, filterOption, notFoundContent } = this.props;\n    const menuItems = [];\n    const childrenKeys = [];\n    let options = this.renderFilterOptionsFromChildren(\n      children,\n      childrenKeys,\n      menuItems,\n    );\n    if (tags) {\n      // tags value must be string\n      let value = this.state.value;\n      value = value.filter(singleValue => {\n        return (\n          childrenKeys.indexOf(singleValue) === -1 &&\n          (!inputValue ||\n            String(singleValue).indexOf(String(inputValue)) > -1)\n        );\n      });\n      value.forEach(singleValue => {\n        const key = singleValue;\n        const menuItem = (\n          <MenuItem\n            style={UNSELECTABLE_STYLE}\n            role=\"option\"\n            attribute={UNSELECTABLE_ATTRIBUTE}\n            value={key}\n            key={key}\n          >\n            {key}\n          </MenuItem>\n        );\n        options.push(menuItem);\n        menuItems.push(menuItem);\n      });\n      if (inputValue) {\n        const notFindInputItem = menuItems.every(option => {\n          // this.filterOption return true has two meaning,\n          // 1, some one exists after filtering\n          // 2, filterOption is set to false\n          // condition 2 does not mean the option has same value with inputValue\n          const filterFn = () => getValuePropValue(option) === inputValue;\n          if (filterOption !== false) {\n            return !this.filterOption.call(\n              this,\n              inputValue,\n              option,\n              filterFn\n            );\n          }\n          return !filterFn();\n        });\n        if (notFindInputItem) {\n          options.unshift(\n            <MenuItem\n              style={UNSELECTABLE_STYLE}\n              role=\"option\"\n              attribute={UNSELECTABLE_ATTRIBUTE}\n              value={inputValue}\n              key={inputValue}\n            >\n              {inputValue}\n            </MenuItem>\n          );\n        }\n      }\n    }\n\n    if (!options.length && notFoundContent) {\n      options = [\n        <MenuItem\n          style={UNSELECTABLE_STYLE}\n          attribute={UNSELECTABLE_ATTRIBUTE}\n          disabled\n          role=\"option\"\n          value=\"NOT_FOUND\"\n          key=\"NOT_FOUND\"\n        >\n          {notFoundContent}\n        </MenuItem>,\n      ];\n    }\n    return options;\n  };\n\n  renderFilterOptionsFromChildren = (children, childrenKeys, menuItems) => {\n    const sel = [];\n    const props = this.props;\n    const { inputValue } = this.state;\n    const tags = props.tags;\n    React.Children.forEach(children, child => {\n      if (!child) {\n        return;\n      }\n      if (child.type.isSelectOptGroup) {\n        const innerItems = this.renderFilterOptionsFromChildren(\n          child.props.children,\n          childrenKeys,\n          menuItems,\n        );\n        if (innerItems.length) {\n          let label = child.props.label;\n          let key = child.key;\n          if (!key && typeof label === 'string') {\n            key = label;\n          } else if (!label && key) {\n            label = key;\n          }\n          sel.push(\n            <MenuItemGroup key={key} title={label}>\n              {innerItems}\n            </MenuItemGroup>\n          );\n        }\n        return;\n      }\n\n      warning(\n        child.type.isSelectOption,\n        'the children of `Select` should be `Select.Option` or `Select.OptGroup`, ' +\n          `instead of \\`${child.type.name ||\n            child.type.displayName ||\n            child.type}\\`.`\n      );\n\n      const childValue = getValuePropValue(child);\n\n      validateOptionValue(childValue, this.props);\n\n      if (this.filterOption(inputValue, child)) {\n        const menuItem = (\n          <MenuItem\n            style={UNSELECTABLE_STYLE}\n            attribute={UNSELECTABLE_ATTRIBUTE}\n            value={childValue}\n            key={childValue}\n            role=\"option\"\n            {...child.props}\n          />\n        );\n        sel.push(menuItem);\n        menuItems.push(menuItem);\n      }\n      if (tags && !child.props.disabled) {\n        childrenKeys.push(childValue);\n      }\n    });\n\n    return sel;\n  };\n\n  renderTopControlNode = () => {\n    const { value, open, inputValue } = this.state;\n    const props = this.props;\n    const {\n      choiceTransitionName,\n      prefixCls,\n      maxTagTextLength,\n      maxTagCount,\n      maxTagPlaceholder,\n      showSearch,\n    } = props;\n    const className = `${prefixCls}-selection__rendered`;\n    // search input is inside topControlNode in single, multiple & combobox. 2016/04/13\n    let innerNode = null;\n    if (isSingleMode(props)) {\n      let selectedValue = null;\n      if (value.length) {\n        let showSelectedValue = false;\n        let opacity = 1;\n        if (!showSearch) {\n          showSelectedValue = true;\n        } else {\n          if (open) {\n            showSelectedValue = !inputValue;\n            if (showSelectedValue) {\n              opacity = 0.4;\n            }\n          } else {\n            showSelectedValue = true;\n          }\n        }\n        const singleValue = value[0];\n        const { label, title } = this.getOptionInfoBySingleValue(singleValue);\n        selectedValue = (\n          <div\n            key=\"value\"\n            className={`${prefixCls}-selection-selected-value`}\n            title={toTitle(title || label)}\n            style={{\n              display: showSelectedValue ? 'block' : 'none',\n              opacity,\n            }}\n          >\n            {label}\n          </div>\n        );\n      }\n      if (!showSearch) {\n        innerNode = [selectedValue];\n      } else {\n        innerNode = [\n          selectedValue,\n          <div\n            className={`${prefixCls}-search ${prefixCls}-search--inline`}\n            key=\"input\"\n            style={{\n              display: open ? 'block' : 'none',\n            }}\n          >\n            {this.getInputElement()}\n          </div>,\n        ];\n      }\n    } else {\n      let selectedValueNodes = [];\n      let limitedCountValue = value;\n      let maxTagPlaceholderEl;\n      if (maxTagCount !== undefined && value.length > maxTagCount) {\n        limitedCountValue = limitedCountValue.slice(0, maxTagCount);\n        const omittedValues = this.getVLForOnChange(value.slice(maxTagCount, value.length));\n        let content = `+ ${value.length - maxTagCount} ...`;\n        if (maxTagPlaceholder) {\n          content = typeof maxTagPlaceholder === 'function' ?\n            maxTagPlaceholder(omittedValues) : maxTagPlaceholder;\n        }\n        maxTagPlaceholderEl = (<li\n          style={UNSELECTABLE_STYLE}\n          {...UNSELECTABLE_ATTRIBUTE}\n          onMouseDown={preventDefaultEvent}\n          className={`${prefixCls}-selection__choice ${prefixCls}-selection__choice__disabled`}\n          key={'maxTagPlaceholder'}\n          title={toTitle(content)}\n        >\n          <div className={`${prefixCls}-selection__choice__content`}>{content}</div>\n        </li>);\n      }\n      if (isMultipleOrTags(props)) {\n        selectedValueNodes = limitedCountValue.map(singleValue => {\n          const info = this.getOptionInfoBySingleValue(singleValue);\n          let content = info.label;\n          const title = info.title || content;\n          if (\n            maxTagTextLength &&\n            typeof content === 'string' &&\n            content.length > maxTagTextLength\n          ) {\n            content = `${content.slice(0, maxTagTextLength)}...`;\n          }\n          const disabled = this.isChildDisabled(singleValue);\n          const choiceClassName = disabled\n            ? `${prefixCls}-selection__choice ${prefixCls}-selection__choice__disabled`\n            : `${prefixCls}-selection__choice`;\n          return (\n            <li\n              style={UNSELECTABLE_STYLE}\n              {...UNSELECTABLE_ATTRIBUTE}\n              onMouseDown={preventDefaultEvent}\n              className={choiceClassName}\n              key={singleValue}\n              title={toTitle(title)}\n            >\n              <div className={`${prefixCls}-selection__choice__content`}>\n                {content}\n              </div>\n              {disabled ? null : (\n                <span\n                  className={`${prefixCls}-selection__choice__remove`}\n                  onClick={(event) => {\n                    this.removeSelected(singleValue, event);\n                  }}\n                />)}\n            </li>\n          );\n        });\n      }\n      if (maxTagPlaceholderEl) {\n        selectedValueNodes.push(maxTagPlaceholderEl);\n      }\n      selectedValueNodes.push(\n        <li\n          className={`${prefixCls}-search ${prefixCls}-search--inline`}\n          key=\"__input\"\n        >\n          {this.getInputElement()}\n        </li>\n      );\n\n      if (isMultipleOrTags(props) && choiceTransitionName) {\n        innerNode = (\n          <Animate\n            onLeave={this.onChoiceAnimationLeave}\n            component=\"ul\"\n            transitionName={choiceTransitionName}\n          >\n            {selectedValueNodes}\n          </Animate>\n        );\n      } else {\n        innerNode = (\n          <ul>\n            {selectedValueNodes}\n          </ul>\n        );\n      }\n    }\n    return (\n      <div className={className} ref={this.saveTopCtrlRef}>\n        {this.getPlaceholderElement()}\n        {innerNode}\n      </div>\n    );\n  }\n\n  renderClear() {\n    const { prefixCls, allowClear } = this.props;\n    const { value, inputValue } = this.state;\n    const clear = (\n      <span\n        key=\"clear\"\n        onMouseDown={preventDefaultEvent}\n        style={UNSELECTABLE_STYLE}\n        {...UNSELECTABLE_ATTRIBUTE}\n        className={`${prefixCls}-selection__clear`}\n        onClick={this.onClearSelection}\n      />\n    );\n    if (!allowClear) {\n      return null;\n    }\n    if (isCombobox(this.props)) {\n      if (inputValue) {\n        return clear;\n      }\n      return null;\n    }\n    if (inputValue || value.length) {\n      return clear;\n    }\n    return null;\n  }\n\n  render() {\n    const props = this.props;\n    const multiple = isMultipleOrTags(props);\n    const state = this.state;\n    const { className, disabled, prefixCls } = props;\n    const ctrlNode = this.renderTopControlNode();\n    let extraSelectionProps = {};\n    const { open } = this.state;\n    if (open) {\n      this._options = this.renderFilterOptions();\n    }\n    const realOpen = this.getRealOpenState();\n    const options = this._options || [];\n    if (!isMultipleOrTagsOrCombobox(props)) {\n      extraSelectionProps = {\n        onKeyDown: this.onKeyDown,\n        tabIndex: props.disabled ? -1 : 0,\n      };\n    }\n    const rootCls = {\n      [className]: !!className,\n      [prefixCls]: 1,\n      [`${prefixCls}-open`]: open,\n      [`${prefixCls}-focused`]: open || !!this._focused,\n      [`${prefixCls}-combobox`]: isCombobox(props),\n      [`${prefixCls}-disabled`]: disabled,\n      [`${prefixCls}-enabled`]: !disabled,\n      [`${prefixCls}-allow-clear`]: !!props.allowClear,\n      [`${prefixCls}-no-arrow`]: !props.showArrow,\n    };\n    return (\n      <SelectTrigger\n        onPopupFocus={this.onPopupFocus}\n        onMouseEnter={this.props.onMouseEnter}\n        onMouseLeave={this.props.onMouseLeave}\n        dropdownAlign={props.dropdownAlign}\n        dropdownClassName={props.dropdownClassName}\n        dropdownMatchSelectWidth={props.dropdownMatchSelectWidth}\n        defaultActiveFirstOption={props.defaultActiveFirstOption}\n        dropdownMenuStyle={props.dropdownMenuStyle}\n        transitionName={props.transitionName}\n        animation={props.animation}\n        prefixCls={props.prefixCls}\n        dropdownStyle={props.dropdownStyle}\n        combobox={props.combobox}\n        showSearch={props.showSearch}\n        options={options}\n        multiple={multiple}\n        disabled={disabled}\n        visible={realOpen}\n        inputValue={state.inputValue}\n        value={state.value}\n        backfillValue={state.backfillValue}\n        firstActiveValue={props.firstActiveValue}\n        onDropdownVisibleChange={this.onDropdownVisibleChange}\n        getPopupContainer={props.getPopupContainer}\n        onMenuSelect={this.onMenuSelect}\n        onMenuDeselect={this.onMenuDeselect}\n        onPopupScroll={props.onPopupScroll}\n        showAction={props.showAction}\n        ref={this.saveSelectTriggerRef}\n      >\n        <div\n          style={props.style}\n          ref={this.saveRootRef}\n          onBlur={this.onOuterBlur}\n          onFocus={this.onOuterFocus}\n          className={classnames(rootCls)}\n        >\n          <div\n            ref={this.saveSelectionRef}\n            key=\"selection\"\n            className={`${prefixCls}-selection\n            ${prefixCls}-selection--${multiple ? 'multiple' : 'single'}`}\n            role=\"combobox\"\n            aria-autocomplete=\"list\"\n            aria-haspopup=\"true\"\n            aria-expanded={realOpen}\n            {...extraSelectionProps}\n          >\n            {ctrlNode}\n            {this.renderClear()}\n            {multiple || !props.showArrow ? null : (\n              <span\n                key=\"arrow\"\n                className={`${prefixCls}-arrow`}\n                style={UNSELECTABLE_STYLE}\n                {...UNSELECTABLE_ATTRIBUTE}\n                onClick={this.onArrowClick}\n              >\n                <b />\n              </span>)}\n          </div>\n        </div>\n      </SelectTrigger>\n    );\n  }\n}\n\nSelect.displayName = 'Select';\n\npolyfill(Select);\n\nexport default Select;\n\n\n\n// WEBPACK FOOTER //\n// ./src/Select.jsx","import Trigger from 'rc-trigger';\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport classnames from 'classnames';\nimport DropdownMenu from './DropdownMenu';\nimport ReactDOM from 'react-dom';\nimport { isSingleMode, saveRef } from './util';\n\nTrigger.displayName = 'Trigger';\n\nconst BUILT_IN_PLACEMENTS = {\n  bottomLeft: {\n    points: ['tl', 'bl'],\n    offset: [0, 4],\n    overflow: {\n      adjustX: 0,\n      adjustY: 1,\n    },\n  },\n  topLeft: {\n    points: ['bl', 'tl'],\n    offset: [0, -4],\n    overflow: {\n      adjustX: 0,\n      adjustY: 1,\n    },\n  },\n};\n\nexport default class SelectTrigger extends React.Component {\n  static propTypes = {\n    onPopupFocus: PropTypes.func,\n    onPopupScroll: PropTypes.func,\n    dropdownMatchSelectWidth: PropTypes.bool,\n    dropdownAlign: PropTypes.object,\n    visible: PropTypes.bool,\n    disabled: PropTypes.bool,\n    showSearch: PropTypes.bool,\n    dropdownClassName: PropTypes.string,\n    multiple: PropTypes.bool,\n    inputValue: PropTypes.string,\n    filterOption: PropTypes.any,\n    options: PropTypes.any,\n    prefixCls: PropTypes.string,\n    popupClassName: PropTypes.string,\n    children: PropTypes.any,\n    showAction: PropTypes.arrayOf(PropTypes.string),\n  };\n\n  constructor(props) {\n    super(props);\n\n    this.saveDropdownMenuRef = saveRef(this, 'dropdownMenuRef');\n    this.saveTriggerRef = saveRef(this, 'triggerRef');\n\n    this.state = {\n      dropdownWidth: null,\n    };\n  }\n\n  componentDidMount() {\n    this.setDropdownWidth();\n  }\n\n  componentDidUpdate() {\n    this.setDropdownWidth();\n  }\n\n  setDropdownWidth = () => {\n    const width = ReactDOM.findDOMNode(this).offsetWidth;\n    if (width !== this.state.dropdownWidth) {\n      this.setState({ dropdownWidth: width });\n    }\n  }\n\n  getInnerMenu = () => {\n    return this.dropdownMenuRef && this.dropdownMenuRef.menuRef;\n  };\n\n  getPopupDOMNode = () => {\n    return this.triggerRef.getPopupDomNode();\n  };\n\n  getDropdownElement = newProps => {\n    const props = this.props;\n    return (\n      <DropdownMenu\n        ref={this.saveDropdownMenuRef}\n        {...newProps}\n        prefixCls={this.getDropdownPrefixCls()}\n        onMenuSelect={props.onMenuSelect}\n        onMenuDeselect={props.onMenuDeselect}\n        onPopupScroll={props.onPopupScroll}\n        value={props.value}\n        backfillValue={props.backfillValue}\n        firstActiveValue={props.firstActiveValue}\n        defaultActiveFirstOption={props.defaultActiveFirstOption}\n        dropdownMenuStyle={props.dropdownMenuStyle}\n      />\n    );\n  };\n\n  getDropdownTransitionName = () => {\n    const props = this.props;\n    let transitionName = props.transitionName;\n    if (!transitionName && props.animation) {\n      transitionName = `${this.getDropdownPrefixCls()}-${props.animation}`;\n    }\n    return transitionName;\n  };\n\n  getDropdownPrefixCls = () => {\n    return `${this.props.prefixCls}-dropdown`;\n  };\n\n  render() {\n    const { onPopupFocus, ...props } = this.props;\n    const {\n      multiple,\n      visible,\n      inputValue,\n      dropdownAlign,\n      disabled,\n      showSearch,\n      dropdownClassName,\n      dropdownStyle,\n      dropdownMatchSelectWidth,\n    } = props;\n    const dropdownPrefixCls = this.getDropdownPrefixCls();\n    const popupClassName = {\n      [dropdownClassName]: !!dropdownClassName,\n      [`${dropdownPrefixCls}--${multiple ? 'multiple' : 'single'}`]: 1,\n    };\n    let popupElement;\n    if (this.props.renderMenu) {\n      // const props = this.props;\n      // return (\n      //   <DropdownMenu\n      //     ref={this.saveDropdownMenuRef}\n      //     {...newProps}\n      //     prefixCls={this.getDropdownPrefixCls()}\n      //     onMenuSelect={props.onMenuSelect}\n      //     onMenuDeselect={props.onMenuDeselect}\n      //     onPopupScroll={props.onPopupScroll}\n      //     value={props.value}\n      //     backfillValue={props.backfillValue}\n      //     firstActiveValue={props.firstActiveValue}\n      //     defaultActiveFirstOption={props.defaultActiveFirstOption}\n      //     dropdownMenuStyle={props.dropdownMenuStyle}\n      //   />\n      // );\n      popupElement = this.props.renderMenu({\n        // menuItems: props.options,\n        onPopupFocus,\n        multiple,\n        inputValue,\n        visible,\n        onMenuSelect: props.onMenuSelect,\n        onMenuDeselect: props.onMenuDeselect,\n        onPopupScroll: props.onPopupScroll,\n        value: props.value,\n      });\n    } else {\n      popupElement = this.getDropdownElement({\n        menuItems: props.options,\n        onPopupFocus,\n        multiple,\n        inputValue,\n        visible,\n      });\n    }\n    let hideAction;\n    if (disabled) {\n      hideAction = [];\n    } else if (isSingleMode(props) && !showSearch) {\n      hideAction = ['click'];\n    } else {\n      hideAction = ['blur'];\n    }\n    const popupStyle = { ...dropdownStyle };\n    const widthProp = dropdownMatchSelectWidth ? 'width' : 'minWidth';\n    if (this.state.dropdownWidth) {\n      popupStyle[widthProp] = `${this.state.dropdownWidth}px`;\n    }\n\n    return (\n      <Trigger\n        {...props}\n        showAction={disabled ? [] : this.props.showAction}\n        hideAction={hideAction}\n        ref={this.saveTriggerRef}\n        popupPlacement=\"bottomLeft\"\n        builtinPlacements={BUILT_IN_PLACEMENTS}\n        prefixCls={dropdownPrefixCls}\n        popupTransitionName={this.getDropdownTransitionName()}\n        onPopupVisibleChange={props.onDropdownVisibleChange}\n        popup={popupElement}\n        popupAlign={dropdownAlign}\n        popupVisible={visible}\n        getPopupContainer={props.getPopupContainer}\n        popupClassName={classnames(popupClassName)}\n        popupStyle={popupStyle}\n      >\n        {props.children}\n      </Trigger>\n    );\n  }\n}\n\nSelectTrigger.displayName = 'SelectTrigger';\n\n\n\n// WEBPACK FOOTER //\n// ./src/SelectTrigger.jsx","import React, { cloneElement } from 'react';\nimport { findDOMNode } from 'react-dom';\nimport PropTypes from 'prop-types';\nimport toArray from 'rc-util/lib/Children/toArray';\nimport Menu from 'rc-menu';\nimport scrollIntoView from 'dom-scroll-into-view';\nimport { getSelectKeys, preventDefaultEvent, saveRef } from './util';\n\nexport default class DropdownMenu extends React.Component {\n  static propTypes = {\n    defaultActiveFirstOption: PropTypes.bool,\n    value: PropTypes.any,\n    dropdownMenuStyle: PropTypes.object,\n    multiple: PropTypes.bool,\n    onPopupFocus: PropTypes.func,\n    onPopupScroll: PropTypes.func,\n    onMenuDeSelect: PropTypes.func,\n    onMenuSelect: PropTypes.func,\n    prefixCls: PropTypes.string,\n    menuItems: PropTypes.any,\n    inputValue: PropTypes.string,\n    visible: PropTypes.bool,\n  };\n\n  constructor(props) {\n    super(props);\n    this.lastInputValue = props.inputValue;\n    this.saveMenuRef = saveRef(this, 'menuRef');\n  }\n\n  componentDidMount() {\n    this.scrollActiveItemToView();\n    this.lastVisible = this.props.visible;\n  }\n\n  shouldComponentUpdate(nextProps) {\n    if (!nextProps.visible) {\n      this.lastVisible = false;\n    }\n    // freeze when hide\n    return nextProps.visible;\n  }\n\n  componentDidUpdate(prevProps) {\n    const props = this.props;\n    if (!prevProps.visible && props.visible) {\n      this.scrollActiveItemToView();\n    }\n    this.lastVisible = props.visible;\n    this.lastInputValue = props.inputValue;\n  }\n\n  scrollActiveItemToView = () => {\n    // scroll into view\n    const itemComponent = findDOMNode(this.firstActiveItem);\n    const props = this.props;\n\n    if (itemComponent) {\n      const scrollIntoViewOpts = {\n        onlyScrollIfNeeded: true,\n      };\n      if (\n        (!props.value || props.value.length === 0) &&\n        props.firstActiveValue\n      ) {\n        scrollIntoViewOpts.alignWithTop = true;\n      }\n\n      scrollIntoView(\n        itemComponent,\n        findDOMNode(this.menuRef),\n        scrollIntoViewOpts\n      );\n    }\n  };\n\n  renderMenu() {\n    const props = this.props;\n    const {\n      menuItems,\n      defaultActiveFirstOption,\n      value,\n      prefixCls,\n      multiple,\n      onMenuSelect,\n      inputValue,\n      firstActiveValue,\n      backfillValue,\n    } = props;\n    if (menuItems && menuItems.length) {\n      const menuProps = {};\n      if (multiple) {\n        menuProps.onDeselect = props.onMenuDeselect;\n        menuProps.onSelect = onMenuSelect;\n      } else {\n        menuProps.onClick = onMenuSelect;\n      }\n\n      const selectedKeys = getSelectKeys(menuItems, value);\n      const activeKeyProps = {};\n\n      let clonedMenuItems = menuItems;\n      if (selectedKeys.length || firstActiveValue) {\n        if (props.visible && !this.lastVisible) {\n          activeKeyProps.activeKey = selectedKeys[0] || firstActiveValue;\n        }\n        let foundFirst = false;\n        // set firstActiveItem via cloning menus\n        // for scroll into view\n        const clone = item => {\n          if (\n            (!foundFirst && selectedKeys.indexOf(item.key) !== -1) ||\n            (!foundFirst &&\n              !selectedKeys.length &&\n              firstActiveValue.indexOf(item.key) !== -1)\n          ) {\n            foundFirst = true;\n            return cloneElement(item, {\n              ref: ref => {\n                this.firstActiveItem = ref;\n              },\n            });\n          }\n          return item;\n        };\n\n        clonedMenuItems = menuItems.map(item => {\n          if (item.type.isMenuItemGroup) {\n            const children = toArray(item.props.children).map(clone);\n            return cloneElement(item, {}, children);\n          }\n          return clone(item);\n        });\n      } else {\n        // Clear firstActiveItem when dropdown menu items was empty\n        // Avoid `Unable to find node on an unmounted component`\n        // https://github.com/ant-design/ant-design/issues/10774\n        this.firstActiveItem = null;\n      }\n\n      // clear activeKey when inputValue change\n      const lastValue = value && value[value.length - 1];\n      if (inputValue !== this.lastInputValue && (!lastValue || lastValue !== backfillValue)) {\n        activeKeyProps.activeKey = '';\n      }\n      return (\n        <Menu\n          ref={this.saveMenuRef}\n          style={this.props.dropdownMenuStyle}\n          defaultActiveFirst={defaultActiveFirstOption}\n          role=\"listbox\"\n          {...activeKeyProps}\n          multiple={multiple}\n          {...menuProps}\n          selectedKeys={selectedKeys}\n          prefixCls={`${prefixCls}-menu`}\n        >\n          {clonedMenuItems}\n        </Menu>\n      );\n    }\n    return null;\n  }\n\n  render() {\n    const renderMenu = this.renderMenu();\n    return renderMenu ? (\n      <div\n        style={{ overflow: 'auto' }}\n        onFocus={this.props.onPopupFocus}\n        onMouseDown={preventDefaultEvent}\n        onScroll={this.props.onPopupScroll}\n      >\n        {renderMenu}\n      </div>\n    ) : null;\n  }\n}\n\nDropdownMenu.displayName = 'DropdownMenu';\n\n\n\n// WEBPACK FOOTER //\n// ./src/DropdownMenu.jsx","import React from 'react';\n\nexport default class OptGroup extends React.Component {\n  static isSelectOptGroup = true;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/OptGroup.jsx"],"sourceRoot":""}